<!DOCTYPE html>
<!-- saved from url=(0044)http://gank.io/post/560e15be2dca930e00da1083 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> 给 Android 开发者的 RxJava 详解</title>
    <link rel="stylesheet" href="./给 Android 开发者的 RxJava 详解_files/skeleton.css">
    <link rel="stylesheet" href="./给 Android 开发者的 RxJava 详解_files/typo.css">
    <link rel="stylesheet" href="./给 Android 开发者的 RxJava 详解_files/post.css">
<script async="" src="./给 Android 开发者的 RxJava 详解_files/analytics.js.下载"></script><script type="text/javascript" async="" src="./给 Android 开发者的 RxJava 详解_files/embed.js.下载" charset="UTF-8"></script><link rel="stylesheet" type="text/css" href="./给 Android 开发者的 RxJava 详解_files/prettify.css"><link type="text/css" rel="stylesheet" href="./给 Android 开发者的 RxJava 详解_files/embed.bluebox.css"></head>
<body>
<header class="clearfix"><a href="http://gank.io/post/" class="logo">
    <div title="重新开始一次认真的技术写作" class="title">匠心写作<span class="beta">Beta</span></div>
</a>
    <nav>
        <ul>
            <li><a href="http://gank.io/post/published" target="_blank">已发表文章</a></li>
            <li><a href="http://gank.io/post/about" target="_blank">投稿</a></li>
            <li><a href="http://gank.io/post/sponsor" target="_blank">赞助</a></li>
        </ul>
    </nav>
</header>
<div class="container">
    
    <div class="post-content typo">
        <div style="text-align:center">
            <h1>给 Android 开发者的 RxJava 详解</h1>

            <p>作者：<a href="https://github.com/rengwuxian" target="_blank">扔物线</a></p>
        </div>
        
            <div class="ads copyright"><p class="typo-small">此文由以下厂商为作者提供 2000 元资金赞助：</p>
                <a href="http://www.jobtong.com/jobs/0.0.30.0.0.0.0"><img title="最靠谱的开发者都在这里！" data-src="http://ww1.sinaimg.cn/large/610dc034gw1ewwdtf8l8ej20qo046myh.jpg" src="./给 Android 开发者的 RxJava 详解_files/610dc034gw1ewwdtf8l8ej20qo046myh.jpg"></a>
                <a href="http://gank.io/post/560e15be2dca930e00da1083"><img title="" data-src=""></a>

                <div class="join-sponsor"><a href="http://gank.io/post/sponsor" target="_blank" class="typo-small">成为赞助方</a> /<a href="http://gank.io/post/about" target="_blank" class="typo-small">开始写作</a></div>
            </div>
        
        <div class="article-content">
            <h3>前言</h3>

<p>我从去年开始使用 RxJava ，到现在一年多了。今年加入了 Flipboard 后，看到 Flipboard 的 Android 项目也在使用 RxJava ，并且使用的场景越来越多 。而最近这几个月，我也发现国内越来越多的人开始提及 RxJava 。有人说『RxJava 真是太好用了』，有人说『RxJava 真是太难用了』，另外更多的人表示：我真的百度了也谷歌了，但我还是想问： RxJava 到底是什么？</p>

<p>鉴于 RxJava 目前这种既火爆又神秘的现状，而我又在一年的使用过程中对 RxJava 有了一些理解，我决定写下这篇文章来对 RxJava 做一个相对详细的、针对 Android 开发者的介绍。</p>

<p>这篇文章的目的有两个：
1. 给对 RxJava 感兴趣的人一些入门的指引
2. 给正在使用 RxJava 但仍然心存疑惑的人一些更深入的解析</p>

<div class="toc"><ul>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_1">RxJava 到底是什么</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_2">RxJava 好在哪</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_3">API 介绍和原理简析</a>
<ul>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_4">1. 概念：扩展的观察者模式</a>
<ul>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_5">观察者模式</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_6">RxJava 的观察者模式</a>
</li>
</ul>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_7">2. 基本实现</a>
<ul>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_8">1) 创建 Observer</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_9">2) 创建 Observable</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_10">3) Subscribe (订阅)</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_11">4) 场景示例</a>
<ul>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_12">a. 打印字符串数组</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_13">b. 由 id 取得图片并显示</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_14">3. 线程控制 —— Scheduler (一)</a>
<ul>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_15">1) Scheduler 的 API (一)</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_16">2) Scheduler 的原理 (一)</a>
</li>
</ul>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_17">4. 变换</a>
<ul>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_18">1) API</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_19">2) 变换的原理：lift()</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_20">3) compose: 对 Observable 整体的变换</a>
</li>
</ul>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_21">5. 线程控制：Scheduler (二)</a>
<ul>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_22">1) Scheduler 的 API (二)</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_23">2) Scheduler 的原理（二）</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_24">3) 延伸：doOnSubscribe()</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_25">RxJava 的适用场景和使用方式</a>
<ul>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_26">1. 与 Retrofit 的结合</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_27">2. RxBinding</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_28">3. 各种异步操作</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_29">4. RxBus</a>
</li>
</ul>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_30">最后</a>
<ul>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_31">关于作者：</a>
</li>
<li>
<a href="http://gank.io/post/560e15be2dca930e00da1083#toc_32">为什么写这个？</a>
</li>
</ul>
</li></ul></div>

<p>在正文开始之前的最后，放上 <code>GitHub</code> 链接和引入依赖的 <code>gradle</code> 代码： 
Github： <br>
https://github.com/ReactiveX/RxJava <br>
https://github.com/ReactiveX/RxAndroid <br>
引入依赖： <br>
<code>compile 'io.reactivex:rxjava:1.0.14'</code> <br>
<code>compile 'io.reactivex:rxandroid:1.0.1'</code> <br>
（版本号是文章发布时的最新稳定版）</p>

<p>另外，感谢 RxJava 核心成员<a href="http://weibo.com/wowwing" target="_blank">流火枫林</a>的技术支持和内测读者<a href="http://weibo.com/daimajia" target="_blank">代码家</a>、<a href="http://weibo.com/u/3224930551" target="_blank">鲍永章</a>、<a href="https://github.com/drakeet" target="_blank">drakeet</a>、<a href="https://github.com/androidmalin" target="_blank">马琳</a>、<a href="http://weibo.com/kevingracie" target="_blank">有时放纵</a>、<a href="http://weibo.com/u/2559577095" target="_blank">程序亦非猿</a>、<a href="http://weibo.com/brucefromsdu" target="_blank">大头鬼</a>、<a href="http://weibo.com/u/2662418685" target="_blank">XZoomEye</a>、<a href="http://weibo.com/shadev" target="_blank">席德雨</a>、<a href="http://weibo.com/tcahead" target="_blank">TCahead</a>、<a href="http://weibo.com/u/1963663403" target="_blank">Tiiime</a>、<a href="http://weibo.com/208087666" target="_blank">Ailurus</a>、<a href="http://weibo.com/seniorszhai" target="_blank">宅学长</a>、<a href="http://naotou.github.io/" target="_blank">妖孽</a>、<a href="http://weibo.com/u/3214362483" target="_blank">大大大大大臣哥</a>、<a href="https://github.com/rizhilee" target="_blank">NicodeLee</a>的帮助，以及<a href="http://jobtong.com/" target="_blank">周伯通招聘</a>的赞助。</p>

<h3 id="toc_1">RxJava 到底是什么</h3>

<p>一个词：<strong>异步</strong>。</p>

<p>RxJava 在 GitHub 主页上的自我介绍是 "a library for composing asynchronous and event-based programs using observable sequences for the Java VM"（一个在 Java VM 上使用可观测的序列来组成异步的、基于事件的程序的库）。这就是 RxJava ，概括得非常精准。</p>

<p>然而，对于初学者来说，这太难看懂了。因为它是一个『总结』，而初学者更需要一个『引言』。</p>

<p>其实， RxJava 的本质可以压缩为异步这一个词。说到根上，它就是一个实现异步操作的库，而别的定语都是基于这之上的。</p>

<h3 id="toc_2">RxJava 好在哪</h3>

<p>换句话说，『同样是做异步，为什么人们用它，而不用现成的 AsyncTask / Handler / XXX / ... ？』</p>

<p>一个词：<strong>简洁</strong>。</p>

<p>异步操作很关键的一点是程序的简洁性，因为在调度过程比较复杂的情况下，异步代码经常会既难写也难被读懂。 Android 创造的 <code>AsyncTask</code> 和<code>Handler</code> ，其实都是为了让异步代码更加简洁。RxJava 的优势也是简洁，但它的简洁的与众不同之处在于，<strong>随着程序逻辑变得越来越复杂，它依然能够保持简洁。</strong></p>

<p><img alt="举个例子" data-src="http://ww4.sinaimg.cn/large/52eb2279jw1f2rx409pcnj2044048mx5.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rx409pcnj2044048mx5.jpg"></p>

<p>假设有这样一个需求：界面上有一个自定义的视图 <code>imageCollectorView</code> ，它的作用是显示多张图片，并能使用 <code>addImage(Bitmap)</code> 方法来任意增加显示的图片。现在需要程序将一个给出的目录数组 <code>File[] folders</code> 中每个目录下的 png 图片都加载出来并显示在 <code>imageCollectorView</code> 中。需要注意的是，由于读取图片的这一过程较为耗时，需要放在后台执行，而图片的显示则必须在 UI 线程执行。常用的实现方式有多种，我这里贴出其中一种： </p>

<pre><code class="prettyprint prettyprinted"><span class="kwd">new</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">super</span><span class="pun">.</span><span class="pln">run</span><span class="pun">();</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">File</span><span class="pln"> folder </span><span class="pun">:</span><span class="pln"> folders</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="typ">File</span><span class="pun">[]</span><span class="pln"> files </span><span class="pun">=</span><span class="pln"> folder</span><span class="pun">.</span><span class="pln">listFiles</span><span class="pun">();</span><span class="pln">
            </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="typ">File</span><span class="pln"> file </span><span class="pun">:</span><span class="pln"> files</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">file</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">().</span><span class="pln">endsWith</span><span class="pun">(</span><span class="str">".png"</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                    final </span><span class="typ">Bitmap</span><span class="pln"> bitmap </span><span class="pun">=</span><span class="pln"> getBitmapFromFile</span><span class="pun">(</span><span class="pln">file</span><span class="pun">);</span><span class="pln">
                    getActivity</span><span class="pun">().</span><span class="pln">runOnUiThread</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Runnable</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                        </span><span class="lit">@Override</span><span class="pln">
                        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                            imageCollectorView</span><span class="pun">.</span><span class="pln">addImage</span><span class="pun">(</span><span class="pln">bitmap</span><span class="pun">);</span><span class="pln">
                        </span><span class="pun">}</span><span class="pln">
                    </span><span class="pun">});</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}.</span><span class="pln">start</span><span class="pun">();</span></code></pre>

<p>而如果使用 RxJava ，实现方式是这样的：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Observable</span><span class="pun">.</span><span class="kwd">from</span><span class="pun">(</span><span class="pln">folders</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">flatMap</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Func1</span><span class="pun">&lt;</span><span class="typ">File</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">File</span><span class="pun">&gt;&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">File</span><span class="pun">&gt;</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">File</span><span class="pln"> file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">.</span><span class="kwd">from</span><span class="pun">(</span><span class="pln">file</span><span class="pun">.</span><span class="pln">listFiles</span><span class="pun">());</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Func1</span><span class="pun">&lt;</span><span class="typ">File</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Boolean</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Boolean</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">File</span><span class="pln"> file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">().</span><span class="pln">endsWith</span><span class="pun">(</span><span class="str">".png"</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Func1</span><span class="pun">&lt;</span><span class="typ">File</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Bitmap</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Bitmap</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">File</span><span class="pln"> file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> getBitmapFromFile</span><span class="pun">(</span><span class="pln">file</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribeOn</span><span class="pun">(</span><span class="typ">Schedulers</span><span class="pun">.</span><span class="pln">io</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">observeOn</span><span class="pun">(</span><span class="typ">AndroidSchedulers</span><span class="pun">.</span><span class="pln">mainThread</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Action1</span><span class="pun">&lt;</span><span class="typ">Bitmap</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Bitmap</span><span class="pln"> bitmap</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            imageCollectorView</span><span class="pun">.</span><span class="pln">addImage</span><span class="pun">(</span><span class="pln">bitmap</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span></code></pre>

<p>那位说话了：『你这代码明明变多了啊！简洁个毛啊！』大兄弟你消消气，我说的是逻辑的简洁，不是单纯的代码量少（逻辑简洁才是提升读写代码速度的必杀技对不？）。观察一下你会发现， RxJava 的这个实现，是一条从上到下的链式调用，没有任何嵌套，这在逻辑的简洁性上是具有优势的。当需求变得复杂时，这种优势将更加明显（试想如果还要求只选取前 10 张图片，常规方式要怎么办？如果有更多这样那样的要求呢？再试想，在这一大堆需求实现完两个月之后需要改功能，当你翻回这里看到自己当初写下的那一片迷之缩进，你能保证自己将迅速看懂，而不是对着代码重新捋一遍思路？）。</p>

<p>另外，如果你的 IDE 是 Android Studio  ，其实每次打开某个 Java 文件的时候，你会看到被自动 Lambda 化的预览，这将让你更加清晰地看到程序逻辑：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Observable</span><span class="pun">.</span><span class="kwd">from</span><span class="pun">(</span><span class="pln">folders</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">flatMap</span><span class="pun">((</span><span class="typ">Func1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">(</span><span class="pln">folder</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">.</span><span class="kwd">from</span><span class="pun">(</span><span class="pln">file</span><span class="pun">.</span><span class="pln">listFiles</span><span class="pun">())</span><span class="pln"> </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">filter</span><span class="pun">((</span><span class="typ">Func1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">(</span><span class="pln">file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">().</span><span class="pln">endsWith</span><span class="pun">(</span><span class="str">".png"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">map</span><span class="pun">((</span><span class="typ">Func1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">(</span><span class="pln">file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> getBitmapFromFile</span><span class="pun">(</span><span class="pln">file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribeOn</span><span class="pun">(</span><span class="typ">Schedulers</span><span class="pun">.</span><span class="pln">io</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">observeOn</span><span class="pun">(</span><span class="typ">AndroidSchedulers</span><span class="pun">.</span><span class="pln">mainThread</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">((</span><span class="typ">Action1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">(</span><span class="pln">bitmap</span><span class="pun">)</span><span class="pln"> </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> imageCollectorView</span><span class="pun">.</span><span class="pln">addImage</span><span class="pun">(</span><span class="pln">bitmap</span><span class="pun">)</span><span class="pln"> </span><span class="pun">});</span></code></pre>

<blockquote>
  <p>如果你习惯使用 Retrolambda ，你也可以直接把代码写成上面这种简洁的形式。而如果你看到这里还不知道什么是 Retrolambda ，我不建议你现在就去学习它。原因有两点：1. Lambda 是把双刃剑，它让你的代码简洁的同时，降低了代码的可读性，因此同时学习 RxJava 和 Retrolambda 可能会让你忽略 RxJava 的一些技术细节；2. Retrolambda 是 Java 6/7 对 Lambda 表达式的非官方兼容方案，它的向后兼容性和稳定性是无法保障的，因此对于企业项目，使用 Retrolambda 是有风险的。所以，与很多 RxJava 的推广者不同，我并不推荐在学习 RxJava 的同时一起学习 Retrolambda。事实上，我个人虽然很欣赏 Retrolambda，但我从来不用它。</p>
</blockquote>

<p>在Flipboard 的 Android 代码中，有一段逻辑非常复杂，包含了多次内存操作、本地文件操作和网络操作，对象分分合合，线程间相互配合相互等待，一会儿排成人字，一会儿排成一字。如果使用常规的方法来实现，肯定是要写得欲仙欲死，然而在使用 RxJava 的情况下，依然只是一条链式调用就完成了。它很长，但很清晰。</p>

<p>所以， RxJava 好在哪？就好在简洁，好在那把什么复杂逻辑都能穿成一条线的简洁。</p>

<h3 id="toc_3">API 介绍和原理简析</h3>

<p>这个我就做不到一个词说明了……因为这一节的主要内容就是一步步地说明 RxJava 到底怎样做到了异步，怎样做到了简洁。</p>

<h4 id="toc_4">1. 概念：扩展的观察者模式</h4>

<p>RxJava 的异步实现，是通过一种扩展的观察者模式来实现的。</p>

<h5 id="toc_5">观察者模式</h5>

<p>先简述一下观察者模式，已经熟悉的可以跳过这一段。 </p>

<p>观察者模式面向的需求是：A 对象（观察者）对 B 对象（被观察者）的某种变化高度敏感，需要在 B 变化的一瞬间做出反应。举个例子，新闻里喜闻乐见的警察抓小偷，警察需要在小偷伸手作案的时候实施抓捕。在这个例子里，警察是观察者，小偷是被观察者，警察需要时刻盯着小偷的一举一动，才能保证不会漏过任何瞬间。程序的观察者模式和这种真正的『观察』略有不同，观察者不需要时刻盯着被观察者（例如 A 不需要每过 2ms 就检查一次 B 的状态），而是采用<strong>注册</strong>(Register)<strong>或者称为</strong>订阅<strong>(Subscribe)</strong>的方式，告诉被观察者：我需要你的某某状态，你要在它变化的时候通知我。 Android 开发中一个比较典型的例子是点击监听器 <code>OnClickListener</code> 。对设置 <code>OnClickListener</code> 来说， <code>View</code> 是被观察者， <code>OnClickListener</code> 是观察者，二者通过 <code>setOnClickListener()</code> 方法达成订阅关系。订阅之后用户点击按钮的瞬间，Android Framework 就会将点击事件发送给已经注册的 <code>OnClickListener</code> 。采取这样被动的观察方式，既省去了反复检索状态的资源消耗，也能够得到最高的反馈速度。当然，这也得益于我们可以随意定制自己程序中的观察者和被观察者，而警察叔叔明显无法要求小偷『你在作案的时候务必通知我』。</p>

<p>OnClickListener 的模式大致如下图：</p>

<p><img alt="OnClickListener 观察者模式" data-src="http://ww4.sinaimg.cn/mw1024/52eb2279jw1f2rx42h1wgj20fz03rglt.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rx42h1wgj20fz03rglt.jpg"></p>

<p>如图所示，通过 <code>setOnClickListener()</code> 方法，<code>Button</code> 持有 <code>OnClickListener</code> 的引用（这一过程没有在图上画出）；当用户点击时，<code>Button</code> 自动调用 <code>OnClickListener</code> 的 <code>onClick()</code> 方法。另外，如果把这张图中的概念抽象出来（<code>Button</code> -&gt; 被观察者、<code>OnClickListener</code> -&gt; 观察者、<code>setOnClickListener()</code> -&gt; 订阅，<code>onClick()</code> -&gt; 事件），就由专用的观察者模式（例如只用于监听控件点击）转变成了通用的观察者模式。如下图：</p>

<p><img alt="通用观察者模式" data-src="http://ww3.sinaimg.cn/mw1024/52eb2279jw1f2rx4446ldj20ga03p74h.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rx4446ldj20ga03p74h.jpg"></p>

<p>而 RxJava 作为一个工具库，使用的就是通用形式的观察者模式。</p>

<h5 id="toc_6">RxJava 的观察者模式</h5>

<p>RxJava 有四个基本概念：<code>Observable</code> (可观察者，即被观察者)、 <code>Observer</code> (观察者)、 <code>subscribe</code> (订阅)、事件。<code>Observable</code> 和 <code>Observer</code> 通过 <code>subscribe()</code> 方法实现订阅关系，从而 <code>Observable</code> 可以在需要的时候发出事件来通知 <code>Observer</code>。</p>

<p>与传统观察者模式不同， RxJava 的事件回调方法除了普通事件 <code>onNext()</code> （相当于 <code>onClick()</code> / <code>onEvent()</code>）之外，还定义了两个特殊的事件：<code>onCompleted()</code> 和 <code>onError()</code>。</p>

<ul>
<li><code>onCompleted()</code>: 事件队列完结。RxJava 不仅把每个事件单独处理，还会把它们看做一个队列。RxJava 规定，当不会再有新的 <code>onNext()</code> 发出时，需要触发 <code>onCompleted()</code> 方法作为标志。</li>
<li><code>onError()</code>: 事件队列异常。在事件处理过程中出异常时，<code>onError()</code> 会被触发，同时队列自动终止，不允许再有事件发出。</li>
<li>在一个正确运行的事件序列中, <code>onCompleted()</code> 和 <code>onError()</code> 有且只有一个，并且是事件序列中的最后一个。需要注意的是，<code>onCompleted()</code> 和 <code>onError()</code> 二者也是互斥的，即在队列中调用了其中一个，就不应该再调用另一个。</li>
</ul>

<p>RxJava 的观察者模式大致如下图：</p>

<p><img alt="RxJava 的观察者模式" data-src="http://ww3.sinaimg.cn/mw1024/52eb2279jw1f2rx46dspqj20gn04qaad.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rx46dspqj20gn04qaad.jpg"></p>

<h4 id="toc_7">2. 基本实现</h4>

<p>基于以上的概念， RxJava 的基本实现主要有三点：</p>

<h5 id="toc_8">1) 创建 Observer</h5>

<p>Observer 即观察者，它决定事件触发的时候将有怎样的行为。 RxJava 中的 <code>Observer</code> 接口的实现方式：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Observer</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> observer </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Observer</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Item: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> s</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCompleted</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Completed!"</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onError</span><span class="pun">(</span><span class="typ">Throwable</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Error!"</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code></pre>

<p>除了 <code>Observer</code> 接口之外，RxJava 还内置了一个实现了 <code>Observer</code> 的抽象类：<code>Subscriber</code>。 <code>Subscriber</code> 对 <code>Observer</code> 接口进行了一些扩展，但他们的基本使用方式是完全一样的：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Subscriber</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> subscriber </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Subscriber</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Item: "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> s</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCompleted</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Completed!"</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onError</span><span class="pun">(</span><span class="typ">Throwable</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Error!"</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code></pre>

<p>不仅基本使用方式一样，实质上，在 RxJava 的 subscribe 过程中，<code>Observer</code> 也总是会先被转换成一个 <code>Subscriber</code> 再使用。所以如果你只想使用基本功能，选择 <code>Observer</code> 和 <code>Subscriber</code> 是完全一样的。它们的区别对于使用者来说主要有两点：</p>

<ol>
<li><code>onStart()</code>: 这是 <code>Subscriber</code> 增加的方法。它会在 subscribe 刚开始，而事件还未发送之前被调用，可以用于做一些准备工作，例如数据的清零或重置。这是一个可选方法，默认情况下它的实现为空。需要注意的是，如果对准备工作的线程有要求（例如弹出一个显示进度的对话框，这必须在主线程执行）， <code>onStart()</code> 就不适用了，因为它总是在 subscribe 所发生的线程被调用，而不能指定线程。要在指定的线程来做准备工作，可以使用 <code>doOnSubscribe()</code> 方法，具体可以在后面的文中看到。</li>
<li><code>unsubscribe()</code>: 这是 <code>Subscriber</code> 所实现的另一个接口 <code>Subscription</code> 的方法，用于取消订阅。在这个方法被调用后，<code>Subscriber</code> 将不再接收事件。一般在这个方法调用前，可以使用 <code>isUnsubscribed()</code> 先判断一下状态。 <code>unsubscribe()</code> 这个方法很重要，因为在 <code>subscribe()</code> 之后， <code>Observable</code> 会持有 <code>Subscriber</code> 的引用，这个引用如果不能及时被释放，将有内存泄露的风险。所以最好保持一个原则：要在不再使用的时候尽快在合适的地方（例如 <code>onPause()</code> <code>onStop()</code> 等方法中）调用 <code>unsubscribe()</code> 来解除引用关系，以避免内存泄露的发生。</li>
</ol>

<h5 id="toc_9">2) 创建 Observable</h5>

<p>Observable 即被观察者，它决定什么时候触发事件以及触发怎样的事件。 RxJava 使用 <code>create()</code> 方法来创建一个 Observable ，并为它定义事件触发规则：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Observable</span><span class="pln"> observable </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">.</span><span class="pln">create</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">.</span><span class="typ">OnSubscribe</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Subscriber</span><span class="pun">&lt;?</span><span class="pln"> </span><span class="kwd">super</span><span class="pln"> </span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> subscriber</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        subscriber</span><span class="pun">.</span><span class="pln">onNext</span><span class="pun">(</span><span class="str">"Hello"</span><span class="pun">);</span><span class="pln">
        subscriber</span><span class="pun">.</span><span class="pln">onNext</span><span class="pun">(</span><span class="str">"Hi"</span><span class="pun">);</span><span class="pln">
        subscriber</span><span class="pun">.</span><span class="pln">onNext</span><span class="pun">(</span><span class="str">"Aloha"</span><span class="pun">);</span><span class="pln">
        subscriber</span><span class="pun">.</span><span class="pln">onCompleted</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">});</span></code></pre>

<p>可以看到，这里传入了一个 <code>OnSubscribe</code> 对象作为参数。<code>OnSubscribe</code> 会被存储在返回的 <code>Observable</code> 对象中，它的作用相当于一个计划表，当 <code>Observable</code> 被订阅的时候，<code>OnSubscribe</code> 的 <code>call()</code> 方法会自动被调用，事件序列就会依照设定依次触发（对于上面的代码，就是观察者<code>Subscriber</code> 将会被调用三次 <code>onNext()</code> 和一次 <code>onCompleted()</code>）。这样，由被观察者调用了观察者的回调方法，就实现了由被观察者向观察者的事件传递，即观察者模式。</p>

<blockquote>
  <p>这个例子很简单：事件的内容是字符串，而不是一些复杂的对象；事件的内容是已经定好了的，而不像有的观察者模式一样是待确定的（例如网络请求的结果在请求返回之前是未知的）；所有事件在一瞬间被全部发送出去，而不是夹杂一些确定或不确定的时间间隔或者经过某种触发器来触发的。总之，这个例子看起来毫无实用价值。但这是为了便于说明，实质上只要你想，各种各样的事件发送规则你都可以自己来写。至于具体怎么做，后面都会讲到，但现在不行。只有把基础原理先说明白了，上层的运用才能更容易说清楚。</p>
</blockquote>

<p><code>create()</code> 方法是 RxJava 最基本的创造事件序列的方法。基于这个方法， RxJava 还提供了一些方法用来快捷创建事件队列，例如：</p>

<ul>
<li><code>just(T...)</code>: 将传入的参数依次发送出来。</li>
</ul>

<pre><code class="prettyprint prettyprinted"><span class="typ">Observable</span><span class="pln"> observable </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">.</span><span class="pln">just</span><span class="pun">(</span><span class="str">"Hello"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Hi"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Aloha"</span><span class="pun">);</span><span class="pln">
</span><span class="com">// 将会依次调用：</span><span class="pln">
</span><span class="com">// onNext("Hello");</span><span class="pln">
</span><span class="com">// onNext("Hi");</span><span class="pln">
</span><span class="com">// onNext("Aloha");</span><span class="pln">
</span><span class="com">// onCompleted();</span></code></pre>

<ul>
<li><code>from(T[])</code> / <code>from(Iterable&lt;? extends T&gt;)</code> : 将传入的数组或 <code>Iterable</code> 拆分成具体对象后，依次发送出来。</li>
</ul>

<pre><code class="prettyprint prettyprinted"><span class="typ">String</span><span class="pun">[]</span><span class="pln"> words </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="str">"Hello"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Hi"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Aloha"</span><span class="pun">};</span><span class="pln">
</span><span class="typ">Observable</span><span class="pln"> observable </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">.</span><span class="kwd">from</span><span class="pun">(</span><span class="pln">words</span><span class="pun">);</span><span class="pln">
</span><span class="com">// 将会依次调用：</span><span class="pln">
</span><span class="com">// onNext("Hello");</span><span class="pln">
</span><span class="com">// onNext("Hi");</span><span class="pln">
</span><span class="com">// onNext("Aloha");</span><span class="pln">
</span><span class="com">// onCompleted();</span></code></pre>

<p>上面 <code>just(T...)</code> 的例子和 <code>from(T[])</code> 的例子，都和之前的 <code>create(OnSubscribe)</code> 的例子是等价的。</p>

<h5 id="toc_10">3) Subscribe (订阅)</h5>

<p>创建了 <code>Observable</code> 和 <code>Observer</code> 之后，再用 <code>subscribe()</code> 方法将它们联结起来，整条链子就可以工作了。代码形式很简单：</p>

<pre><code class="prettyprint prettyprinted"><span class="pln">observable</span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">observer</span><span class="pun">);</span><span class="pln">
</span><span class="com">// 或者：</span><span class="pln">
observable</span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber</span><span class="pun">);</span></code></pre>

<blockquote>
  <p>有人可能会注意到， <code>subscribe()</code> 这个方法有点怪：它看起来是『<code>observalbe</code> 订阅了 <code>observer</code> / <code>subscriber</code>』而不是『<code>observer</code> / <code>subscriber</code> 订阅了 <code>observalbe</code>』，这看起来就像『杂志订阅了读者』一样颠倒了对象关系。这让人读起来有点别扭，不过如果把 API 设计成 <code>observer.subscribe(observable)</code> / <code>subscriber.subscribe(observable)</code> ，虽然更加符合思维逻辑，但对流式 API 的设计就造成影响了，比较起来明显是得不偿失的。</p>
</blockquote>

<p><code>Observable.subscribe(Subscriber)</code> 的内部实现是这样的（仅核心代码）：</p>

<pre><code class="prettyprint prettyprinted"><span class="com">// 注意：这不是 subscribe() 的源码，而是将源码中与性能、兼容性、扩展性有关的代码剔除后的核心代码。</span><span class="pln">
</span><span class="com">// 如果需要看源码，可以去 RxJava 的 GitHub 仓库下载。</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Subscription</span><span class="pln"> subscribe</span><span class="pun">(</span><span class="typ">Subscriber</span><span class="pln"> subscriber</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    subscriber</span><span class="pun">.</span><span class="pln">onStart</span><span class="pun">();</span><span class="pln">
    onSubscribe</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">subscriber</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> subscriber</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>可以看到，<code>subscriber()</code> 做了3件事：</p>

<ol>
<li>调用 <code>Subscriber.onStart()</code> 。这个方法在前面已经介绍过，是一个可选的准备方法。</li>
<li>调用 <code>Observable</code> 中的 <code>OnSubscribe.call(Subscriber)</code> 。在这里，事件发送的逻辑开始运行。从这也可以看出，在 RxJava 中， <code>Observable</code> 并不是在创建的时候就立即开始发送事件，而是在它被订阅的时候，即当 <code>subscribe()</code> 方法执行的时候。</li>
<li>将传入的 <code>Subscriber</code> 作为 <code>Subscription</code> 返回。这是为了方便 <code>unsubscribe()</code>.</li>
</ol>

<p>整个过程中对象间的关系如下图：</p>

<p><img alt="关系静图" data-src="http://ww4.sinaimg.cn/mw1024/52eb2279jw1f2rx489robj20lk0a8my2.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rx489robj20lk0a8my2.jpg"></p>

<p>或者可以看动图：</p>

<p><img alt="关系静图" data-src="http://ww3.sinaimg.cn/mw1024/52eb2279jw1f2rx4ay0hrg20ig08wk4q.gif" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rx4ay0hrg20ig08wk4q.gif"></p>

<p>除了 <code>subscribe(Observer)</code> 和 <code>subscribe(Subscriber)</code> ，<code>subscribe()</code> 还支持不完整定义的回调，RxJava 会自动根据定义创建出 <code>Subscriber</code> 。形式如下：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Action1</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> onNextAction </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Action1</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// onNext()</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> s</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> s</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="typ">Action1</span><span class="pun">&lt;</span><span class="typ">Throwable</span><span class="pun">&gt;</span><span class="pln"> onErrorAction </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Action1</span><span class="pun">&lt;</span><span class="typ">Throwable</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// onError()</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Throwable</span><span class="pln"> throwable</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// Error handling</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="typ">Action0</span><span class="pln"> onCompletedAction </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Action0</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// onCompleted()</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> </span><span class="str">"completed"</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="com">// 自动创建 Subscriber ，并使用 onNextAction 来定义 onNext()</span><span class="pln">
observable</span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">onNextAction</span><span class="pun">);</span><span class="pln">
</span><span class="com">// 自动创建 Subscriber ，并使用 onNextAction 和 onErrorAction 来定义 onNext() 和 onError()</span><span class="pln">
observable</span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">onNextAction</span><span class="pun">,</span><span class="pln"> onErrorAction</span><span class="pun">);</span><span class="pln">
</span><span class="com">// 自动创建 Subscriber ，并使用 onNextAction、 onErrorAction 和 onCompletedAction 来定义 onNext()、 onError() 和 onCompleted()</span><span class="pln">
observable</span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">onNextAction</span><span class="pun">,</span><span class="pln"> onErrorAction</span><span class="pun">,</span><span class="pln"> onCompletedAction</span><span class="pun">);</span></code></pre>

<p>简单解释一下这段代码中出现的 <code>Action1</code> 和 <code>Action0</code>。 <code>Action0</code> 是 RxJava 的一个接口，它只有一个方法 <code>call()</code>，这个方法是无参无返回值的；由于 <code>onCompleted()</code> 方法也是无参无返回值的，因此 <code>Action0</code> 可以被当成一个包装对象，将 <code>onCompleted()</code> 的内容打包起来将自己作为一个参数传入 <code>subscribe()</code> 以实现不完整定义的回调。这样其实也可以看做将 <code>onCompleted()</code> 方法作为参数传进了 <code>subscribe()</code>，相当于其他某些语言中的『闭包』。 <code>Action1</code> 也是一个接口，它同样只有一个方法 <code>call(T param)</code>，这个方法也无返回值，但有一个参数；与 <code>Action0</code> 同理，由于 <code>onNext(T obj)</code> 和 <code>onError(Throwable error)</code> 也是单参数无返回值的，因此 <code>Action1</code> 可以将 <code>onNext(obj)</code> 和 <code>onError(error)</code> 打包起来传入 <code>subscribe()</code> 以实现不完整定义的回调。事实上，虽然 <code>Action0</code> 和 <code>Action1</code> 在 API 中使用最广泛，但 RxJava 是提供了多个 <code>ActionX</code> 形式的接口 (例如 <code>Action2</code>, <code>Action3</code>) 的，它们可以被用以包装不同的无返回值的方法。</p>

<blockquote>
  <p>注：正如前面所提到的，<code>Observer</code> 和 <code>Subscriber</code> 具有相同的角色，而且 <code>Observer</code> 在 <code>subscribe()</code> 过程中最终会被转换成 <code>Subscriber</code> 对象，因此，从这里开始，后面的描述我将用 <code>Subscriber</code> 来代替 <code>Observer</code> ，这样更加严谨。</p>
</blockquote>

<h5 id="toc_11">4) 场景示例</h5>

<p>下面举两个例子：</p>

<blockquote>
  <p>为了把原理用更清晰的方式表述出来，本文中挑选的都是功能尽可能简单的例子，以至于有些示例代码看起来会有『画蛇添足』『明明不用 RxJava 可以更简便地解决问题』的感觉。当你看到这种情况，不要觉得是因为 RxJava 太啰嗦，而是因为在过早的时候举出真实场景的例子并不利于原理的解析，因此我刻意挑选了简单的情景。</p>
</blockquote>

<h6 id="toc_12">a. 打印字符串数组</h6>

<p>将字符串数组 <code>names</code> 中的所有字符串依次打印出来：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">String</span><span class="pun">[]</span><span class="pln"> names </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln">
</span><span class="typ">Observable</span><span class="pun">.</span><span class="kwd">from</span><span class="pun">(</span><span class="pln">names</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Action1</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span></code></pre>

<h6 id="toc_13">b. 由 id 取得图片并显示</h6>

<p>由指定的一个 drawable 文件 id <code>drawableRes</code> 取得图片，并显示在 <code>ImageView</code> 中，并在出现异常的时候打印 Toast 报错：</p>

<pre><code class="prettyprint prettyprinted"><span class="kwd">int</span><span class="pln"> drawableRes </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln">
</span><span class="typ">ImageView</span><span class="pln"> imageView </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln">
</span><span class="typ">Observable</span><span class="pun">.</span><span class="pln">create</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">OnSubscribe</span><span class="pun">&lt;</span><span class="typ">Drawable</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Subscriber</span><span class="pun">&lt;?</span><span class="pln"> </span><span class="kwd">super</span><span class="pln"> </span><span class="typ">Drawable</span><span class="pun">&gt;</span><span class="pln"> subscriber</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Drawable</span><span class="pln"> drawable </span><span class="pun">=</span><span class="pln"> getTheme</span><span class="pun">().</span><span class="pln">getDrawable</span><span class="pun">(</span><span class="pln">drawableRes</span><span class="pun">));</span><span class="pln">
        subscriber</span><span class="pun">.</span><span class="pln">onNext</span><span class="pun">(</span><span class="pln">drawable</span><span class="pun">);</span><span class="pln">
        subscriber</span><span class="pun">.</span><span class="pln">onCompleted</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}).</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Observer</span><span class="pun">&lt;</span><span class="typ">Drawable</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">Drawable</span><span class="pln"> drawable</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        imageView</span><span class="pun">.</span><span class="pln">setImageDrawable</span><span class="pun">(</span><span class="pln">drawable</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCompleted</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onError</span><span class="pun">(</span><span class="typ">Throwable</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Toast</span><span class="pun">.</span><span class="pln">makeText</span><span class="pun">(</span><span class="pln">activity</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Error!"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Toast</span><span class="pun">.</span><span class="pln">LENGTH_SHORT</span><span class="pun">).</span><span class="pln">show</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">});</span></code></pre>

<p>正如上面两个例子这样，创建出 <code>Observable</code> 和 <code>Subscriber</code> ，再用 <code>subscribe()</code> 将它们串起来，一次 RxJava 的基本使用就完成了。非常简单。</p>

<p>然而，</p>

<p><img alt="这并没有什么diao用" data-src="http://ww3.sinaimg.cn/mw1024/52eb2279jw1f2rx4ddcncj2046053gll.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rx4ddcncj2046053gll.jpg"></p>

<p>在 RxJava 的默认规则中，事件的发出和消费都是在同一个线程的。也就是说，如果只用上面的方法，实现出来的只是一个同步的观察者模式。观察者模式本身的目的就是『后台处理，前台回调』的异步机制，因此异步对于 RxJava 是至关重要的。而要实现异步，则需要用到 RxJava 的另一个概念： <code>Scheduler</code> 。</p>

<h4 id="toc_14">3. 线程控制 —— Scheduler (一)</h4>

<p>在不指定线程的情况下， RxJava 遵循的是线程不变的原则，即：在哪个线程调用 <code>subscribe()</code>，就在哪个线程生产事件；在哪个线程生产事件，就在哪个线程消费事件。如果需要切换线程，就需要用到 <code>Scheduler</code> （调度器）。</p>

<h5 id="toc_15">1) Scheduler 的 API (一)</h5>

<p>在RxJava 中，<code>Scheduler</code> ——调度器，相当于线程控制器，RxJava 通过它来指定每一段代码应该运行在什么样的线程。RxJava 已经内置了几个 <code>Scheduler</code> ，它们已经适合大多数的使用场景：</p>

<ul>
<li><code>Schedulers.immediate()</code>: 直接在当前线程运行，相当于不指定线程。这是默认的 <code>Scheduler</code>。</li>
<li><code>Schedulers.newThread()</code>: 总是启用新线程，并在新线程执行操作。</li>
<li><code>Schedulers.io()</code>: I/O 操作（读写文件、读写数据库、网络信息交互等）所使用的 <code>Scheduler</code>。行为模式和 <code>newThread()</code> 差不多，区别在于 <code>io()</code> 的内部实现是是用一个无数量上限的线程池，可以重用空闲的线程，因此多数情况下 <code>io()</code> 比 <code>newThread()</code> 更有效率。不要把计算工作放在 <code>io()</code> 中，可以避免创建不必要的线程。</li>
<li><code>Schedulers.computation()</code>: 计算所使用的 <code>Scheduler</code>。这个计算指的是 CPU 密集型计算，即不会被 I/O 等操作限制性能的操作，例如图形的计算。这个 <code>Scheduler</code> 使用的固定的线程池，大小为 CPU 核数。不要把 I/O 操作放在 <code>computation()</code> 中，否则 I/O 操作的等待时间会浪费 CPU。</li>
<li>另外， Android 还有一个专用的 <code>AndroidSchedulers.mainThread()</code>，它指定的操作将在 Android 主线程运行。</li>
</ul>

<p>有了这几个 <code>Scheduler</code> ，就可以使用 <code>subscribeOn()</code> 和 <code>observeOn()</code> 两个方法来对线程进行控制了。
* <code>subscribeOn()</code>: 指定 <code>subscribe()</code> 所发生的线程，即 <code>Observable.OnSubscribe</code> 被激活时所处的线程。或者叫做事件产生的线程。
* <code>observeOn()</code>: 指定 <code>Subscriber</code> 所运行在的线程。或者叫做事件消费的线程。</p>

<p>文字叙述总归难理解，上代码：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Observable</span><span class="pun">.</span><span class="pln">just</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribeOn</span><span class="pun">(</span><span class="typ">Schedulers</span><span class="pun">.</span><span class="pln">io</span><span class="pun">())</span><span class="pln"> </span><span class="com">// 指定 subscribe() 发生在 IO 线程</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">observeOn</span><span class="pun">(</span><span class="typ">AndroidSchedulers</span><span class="pun">.</span><span class="pln">mainThread</span><span class="pun">())</span><span class="pln"> </span><span class="com">// 指定 Subscriber 的回调发生在主线程</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Action1</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Integer</span><span class="pln"> number</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> </span><span class="str">"number:"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> number</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span></code></pre>

<p>上面这段代码中，由于 <code>subscribeOn(Schedulers.io())</code> 的指定，被创建的事件的内容 <code>1</code>、<code>2</code>、<code>3</code>、<code>4</code> 将会在 IO 线程发出；而由于 <code>observeOn(AndroidScheculers.mainThread()</code>) 的指定，因此 <code>subscriber</code> 数字的打印将发生在主线程 。事实上，这种在 <code>subscribe()</code> 之前写上两句 <code>subscribeOn(Scheduler.io())</code> 和 <code>observeOn(AndroidSchedulers.mainThread())</code> 的使用方式非常常见，它适用于多数的 『后台线程取数据，主线程显示』的程序策略。</p>

<p>而前面提到的由图片 id 取得图片并显示的例子，如果也加上这两句：</p>

<pre><code class="prettyprint prettyprinted"><span class="kwd">int</span><span class="pln"> drawableRes </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln">
</span><span class="typ">ImageView</span><span class="pln"> imageView </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln">
</span><span class="typ">Observable</span><span class="pun">.</span><span class="pln">create</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">OnSubscribe</span><span class="pun">&lt;</span><span class="typ">Drawable</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Subscriber</span><span class="pun">&lt;?</span><span class="pln"> </span><span class="kwd">super</span><span class="pln"> </span><span class="typ">Drawable</span><span class="pun">&gt;</span><span class="pln"> subscriber</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Drawable</span><span class="pln"> drawable </span><span class="pun">=</span><span class="pln"> getTheme</span><span class="pun">().</span><span class="pln">getDrawable</span><span class="pun">(</span><span class="pln">drawableRes</span><span class="pun">));</span><span class="pln">
        subscriber</span><span class="pun">.</span><span class="pln">onNext</span><span class="pun">(</span><span class="pln">drawable</span><span class="pun">);</span><span class="pln">
        subscriber</span><span class="pun">.</span><span class="pln">onCompleted</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="pun">.</span><span class="pln">subscribeOn</span><span class="pun">(</span><span class="typ">Schedulers</span><span class="pun">.</span><span class="pln">io</span><span class="pun">())</span><span class="pln"> </span><span class="com">// 指定 subscribe() 发生在 IO 线程</span><span class="pln">
</span><span class="pun">.</span><span class="pln">observeOn</span><span class="pun">(</span><span class="typ">AndroidSchedulers</span><span class="pun">.</span><span class="pln">mainThread</span><span class="pun">())</span><span class="pln"> </span><span class="com">// 指定 Subscriber 的回调发生在主线程</span><span class="pln">
</span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Observer</span><span class="pun">&lt;</span><span class="typ">Drawable</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">Drawable</span><span class="pln"> drawable</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        imageView</span><span class="pun">.</span><span class="pln">setImageDrawable</span><span class="pun">(</span><span class="pln">drawable</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCompleted</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onError</span><span class="pun">(</span><span class="typ">Throwable</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Toast</span><span class="pun">.</span><span class="pln">makeText</span><span class="pun">(</span><span class="pln">activity</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Error!"</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Toast</span><span class="pun">.</span><span class="pln">LENGTH_SHORT</span><span class="pun">).</span><span class="pln">show</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">});</span></code></pre>

<p>那么，加载图片将会发生在 IO 线程，而设置图片则被设定在了主线程。这就意味着，即使加载图片耗费了几十甚至几百毫秒的时间，也不会造成丝毫界面的卡顿。</p>

<h5 id="toc_16">2) Scheduler 的原理 (一)</h5>

<p>RxJava 的 Scheduler API 很方便，也很神奇（加了一句话就把线程切换了，怎么做到的？而且 <code>subscribe()</code> 不是最外层直接调用的方法吗，它竟然也能被指定线程？）。然而 Scheduler 的原理需要放在后面讲，因为它的原理是以下一节《变换》的原理作为基础的。</p>

<p>好吧这一节其实我屁也没说，只是为了让你安心，让你知道我不是忘了讲原理，而是把它放在了更合适的地方。</p>

<h4 id="toc_17">4. 变换</h4>

<p>终于要到牛逼的地方了，不管你激动不激动，反正我是激动了。</p>

<p>RxJava 提供了对事件序列进行变换的支持，这是它的核心功能之一，也是大多数人说『RxJava 真是太好用了』的最大原因。<strong>所谓变换，就是将事件序列中的对象或整个序列进行加工处理，转换成不同的事件或事件序列。</strong>概念说着总是模糊难懂的，来看 API。</p>

<h5 id="toc_18">1) API</h5>

<p>首先看一个 <code>map()</code> 的例子：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Observable</span><span class="pun">.</span><span class="pln">just</span><span class="pun">(</span><span class="str">"images/logo.png"</span><span class="pun">)</span><span class="pln"> </span><span class="com">// 输入类型 String</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Func1</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Bitmap</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Bitmap</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> filePath</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// 参数类型 String</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> getBitmapFromPath</span><span class="pun">(</span><span class="pln">filePath</span><span class="pun">);</span><span class="pln"> </span><span class="com">// 返回类型 Bitmap</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Action1</span><span class="pun">&lt;</span><span class="typ">Bitmap</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Bitmap</span><span class="pln"> bitmap</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// 参数类型 Bitmap</span><span class="pln">
            showBitmap</span><span class="pun">(</span><span class="pln">bitmap</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span></code></pre>

<p>这里出现了一个叫做 <code>Func1</code> 的类。它和 <code>Action1</code> 非常相似，也是 RxJava 的一个接口，用于包装含有一个参数的方法。 <code>Func1</code> 和 <code>Action</code> 的区别在于， <code>Func1</code> 包装的是有返回值的方法。另外，和 <code>ActionX</code> 一样， <code>FuncX</code> 也有多个，用于不同参数个数的方法。<code>FuncX</code> 和 <code>ActionX</code> 的区别在 <code>FuncX</code> 包装的是有返回值的方法。</p>

<p>可以看到，<code>map()</code> 方法将参数中的 <code>String</code> 对象转换成一个 <code>Bitmap</code> 对象后返回，而在经过 <code>map()</code> 方法后，事件的参数类型也由 <code>String</code> 转为了 <code>Bitmap</code>。这种直接变换对象并返回的，是最常见的也最容易理解的变换。不过 RxJava 的变换远不止这样，它不仅可以针对事件对象，还可以针对整个事件队列，这使得 RxJava 变得非常灵活。我列举几个常用的变换：</p>

<ul>
<li><p><code>map()</code>: 事件对象的直接变换，具体功能上面已经介绍过。它是 RxJava 最常用的变换。
<code>map()</code> 的示意图：
<img alt="map() 示意图" data-src="http://ww1.sinaimg.cn/mw1024/52eb2279jw1f2rx4fitvfj20hw0ea0tg.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rx4fitvfj20hw0ea0tg.jpg"></p></li>
<li><p><code>flatMap()</code>: 这是一个很有用但<strong>非常难理解</strong>的变换，因此我决定花多些篇幅来介绍它。
首先假设这么一种需求：假设有一个数据结构『学生』，现在需要打印出一组学生的名字。实现方式很简单：</p></li>
</ul>

<pre><code class="prettyprint prettyprinted"><span class="typ">Student</span><span class="pun">[]</span><span class="pln"> students </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln">
</span><span class="typ">Subscriber</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> subscriber </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Subscriber</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="typ">Observable</span><span class="pun">.</span><span class="kwd">from</span><span class="pun">(</span><span class="pln">students</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Func1</span><span class="pun">&lt;</span><span class="typ">Student</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Student</span><span class="pln"> student</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> student</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber</span><span class="pun">);</span></code></pre>

<p>很简单。那么再假设：如果要打印出每个学生所需要修的所有课程的名称呢？（需求的区别在于，每个学生只有一个名字，但却有多个课程。）首先可以这样实现：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Student</span><span class="pun">[]</span><span class="pln"> students </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln">
</span><span class="typ">Subscriber</span><span class="pun">&lt;</span><span class="typ">Student</span><span class="pun">&gt;</span><span class="pln"> subscriber </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Subscriber</span><span class="pun">&lt;</span><span class="typ">Student</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">Student</span><span class="pln"> student</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">Course</span><span class="pun">&gt;</span><span class="pln"> courses </span><span class="pun">=</span><span class="pln"> student</span><span class="pun">.</span><span class="pln">getCourses</span><span class="pun">();</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> courses</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="typ">Course</span><span class="pln"> course </span><span class="pun">=</span><span class="pln"> courses</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
            </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> course</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">());</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="typ">Observable</span><span class="pun">.</span><span class="kwd">from</span><span class="pun">(</span><span class="pln">students</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber</span><span class="pun">);</span></code></pre>

<p>依然很简单。那么如果我不想在 <code>Subscriber</code> 中使用 for 循环，而是希望 <code>Subscriber</code> 中直接传入单个的 <code>Course</code> 对象呢（这对于代码复用很重要）？用 <code>map()</code> 显然是不行的，因为 <code>map()</code> 是一对一的转化，而我现在的要求是一对多的转化。那怎么才能把一个 Student 转化成多个 Course 呢？</p>

<p>这个时候，就需要用 <code>flatMap()</code> 了：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Student</span><span class="pun">[]</span><span class="pln"> students </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln">
</span><span class="typ">Subscriber</span><span class="pun">&lt;</span><span class="typ">Course</span><span class="pun">&gt;</span><span class="pln"> subscriber </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Subscriber</span><span class="pun">&lt;</span><span class="typ">Course</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">Course</span><span class="pln"> course</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Log</span><span class="pun">.</span><span class="pln">d</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">,</span><span class="pln"> course</span><span class="pun">.</span><span class="pln">getName</span><span class="pun">());</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">
</span><span class="pun">};</span><span class="pln">
</span><span class="typ">Observable</span><span class="pun">.</span><span class="kwd">from</span><span class="pun">(</span><span class="pln">students</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">flatMap</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Func1</span><span class="pun">&lt;</span><span class="typ">Student</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Course</span><span class="pun">&gt;&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Course</span><span class="pun">&gt;</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Student</span><span class="pln"> student</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">.</span><span class="kwd">from</span><span class="pun">(</span><span class="pln">student</span><span class="pun">.</span><span class="pln">getCourses</span><span class="pun">());</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber</span><span class="pun">);</span></code></pre>

<p>从上面的代码可以看出， <code>flatMap()</code> 和 <code>map()</code> 有一个相同点：它也是把传入的参数转化之后返回另一个对象。但需要注意，和 <code>map()</code> 不同的是， <code>flatMap()</code> 中返回的是个 <code>Observable</code> 对象，并且这个 <code>Observable</code> 对象并不是被直接发送到了 <code>Subscriber</code> 的回调方法中。 <code>flatMap()</code> 的原理是这样的：1. 使用传入的事件对象创建一个 <code>Observable</code> 对象；2. 并不发送这个 <code>Observable</code>, 而是将它激活，于是它开始发送事件；3. 每一个创建出来的 <code>Observable</code> 发送的事件，都被汇入同一个 <code>Observable</code> ，而这个 <code>Observable</code> 负责将这些事件统一交给 <code>Subscriber</code> 的回调方法。这三个步骤，把事件拆成了两级，通过一组新创建的 <code>Observable</code> 将初始的对象『铺平』之后通过统一路径分发了下去。而这个『铺平』就是 <code>flatMap()</code> 所谓的 flat。</p>

<p><code>flatMap()</code> 示意图：</p>

<p><img alt="flatMap() 示意图" data-src="http://ww1.sinaimg.cn/mw1024/52eb2279jw1f2rx4i8da2j20hg0dydgx.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rx4i8da2j20hg0dydgx.jpg"></p>

<p>扩展：由于可以在嵌套的 <code>Observable</code> 中添加异步代码， <code>flatMap()</code> 也常用于嵌套的异步操作，例如嵌套的网络请求。示例代码（Retrofit + RxJava）：</p>

<pre><code class="prettyprint prettyprinted"><span class="pln">networkClient</span><span class="pun">.</span><span class="pln">token</span><span class="pun">()</span><span class="pln"> </span><span class="com">// 返回 Observable&lt;String&gt;，在订阅时请求 token，并在响应后发送 token</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">flatMap</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Func1</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Messages</span><span class="pun">&gt;&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Messages</span><span class="pun">&gt;</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> token</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// 返回 Observable&lt;Messages&gt;，在订阅时请求消息列表，并在响应后发送请求到的消息列表</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> networkClient</span><span class="pun">.</span><span class="pln">messages</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Action1</span><span class="pun">&lt;</span><span class="typ">Messages</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Messages</span><span class="pln"> messages</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// 处理显示消息列表</span><span class="pln">
            showMessages</span><span class="pun">(</span><span class="pln">messages</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span></code></pre>

<p>传统的嵌套请求需要使用嵌套的 Callback 来实现。而通过 <code>flatMap()</code> ，可以把嵌套的请求写在一条链中，从而保持程序逻辑的清晰。</p>

<ul>
<li><code>throttleFirst()</code>: 在每次事件触发后的一定时间间隔内丢弃新的事件。常用作去抖动过滤，例如按钮的点击监听器：
<code>
RxView.clickEvents(button) // RxBinding 代码，后面的文章有解释
.throttleFirst(500, TimeUnit.MILLISECONDS) // 设置防抖间隔为 500ms
.subscribe(subscriber);
</code>
妈妈再也不怕我的用户手抖点开两个重复的界面啦。</li>
</ul>

<p>此外， RxJava 还提供很多便捷的方法来实现事件序列的变换，这里就不一一举例了。</p>

<h5 id="toc_19">2) 变换的原理：lift()</h5>

<p>这些变换虽然功能各有不同，但实质上都是<strong>针对事件序列的处理和再发送</strong>。而在 RxJava 的内部，它们是基于同一个基础的变换方法： <code>lift(Operator)</code>。首先看一下 <code>lift()</code> 的内部实现（仅核心代码）：</p>

<pre><code class="prettyprint prettyprinted"><span class="com">// 注意：这不是 lift() 的源码，而是将源码中与性能、兼容性、扩展性有关的代码剔除后的核心代码。</span><span class="pln">
</span><span class="com">// 如果需要看源码，可以去 RxJava 的 GitHub 仓库下载。</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">R</span><span class="pun">&gt;</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="pln">R</span><span class="pun">&gt;</span><span class="pln"> lift</span><span class="pun">(</span><span class="typ">Operator</span><span class="pun">&lt;?</span><span class="pln"> extends R</span><span class="pun">,</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">super</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">.</span><span class="pln">create</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">OnSubscribe</span><span class="pun">&lt;</span><span class="pln">R</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Subscriber</span><span class="pln"> subscriber</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="typ">Subscriber</span><span class="pln"> newSubscriber </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">subscriber</span><span class="pun">);</span><span class="pln">
            newSubscriber</span><span class="pun">.</span><span class="pln">onStart</span><span class="pun">();</span><span class="pln">
            onSubscribe</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">newSubscriber</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
</span><span class="pun">}</span></code></pre>

<p>这段代码很有意思：它生成了一个新的 <code>Observable</code> 并返回，而且创建新 <code>Observable</code> 所用的参数 <code>OnSubscribe</code> 的回调方法 <code>call()</code> 中的实现竟然看起来和前面讲过的 <code>Observable.subscribe()</code> 一样！然而它们并不一样哟~不一样的地方关键就在于第二行 <code>onSubscribe.call(subscriber)</code> 中的 <strong><code>onSubscribe</code> 所指代的对象不同</strong>（高能预警：接下来的几句话可能会导致身体的严重不适）——</p>

<ul>
<li><code>subscribe()</code> 中这句话的 <code>onSubscribe</code> 指的是 <code>Observable</code> 中的 <code>onSubscribe</code> 对象，这个没有问题，但是 <code>lift()</code> 之后的情况就复杂了点。 </li>
<li>当含有 <code>lift()</code> 时： <br>
1.<code>lift()</code> 创建了一个 <code>Observable</code> 后，加上之前的原始 <code>Observable</code>，已经有两个 <code>Observable</code> 了； <br>
2.而同样地，新 <code>Observable</code> 里的新 <code>OnSubscribe</code> 加上之前的原始 <code>Observable</code> 中的原始 <code>OnSubscribe</code>，也就有了两个 <code>OnSubscribe</code>； <br>
3.当用户调用经过 <code>lift()</code> 后的 <code>Observable</code> 的 <code>subscribe()</code> 的时候，使用的是 <code>lift()</code> 所返回的新的 <code>Observable</code> ，于是它所触发的 <code>onSubscribe.call(subscriber)</code>，也是用的新 <code>Observable</code> 中的新 <code>OnSubscribe</code>，即在 <code>lift()</code> 中生成的那个 <code>OnSubscribe</code>； <br>
4.而这个新 <code>OnSubscribe</code> 的 <code>call()</code> 方法中的 <code>onSubscribe</code> ，就是指的原始 <code>Observable</code> 中的原始 <code>OnSubscribe</code> ，在这个 <code>call()</code> 方法里，新 <code>OnSubscribe</code> 利用 <code>operator.call(subscriber)</code> 生成了一个新的 <code>Subscriber</code>（<code>Operator</code> 就是在这里，通过自己的 <code>call()</code> 方法将新 <code>Subscriber</code> 和原始 <code>Subscriber</code> 进行关联，并插入自己的『变换』代码以实现变换），然后利用这个新 <code>Subscriber</code> 向原始 <code>Observable</code> 进行订阅。 <br>
这样就实现了 <code>lift()</code> 过程，有点<strong>像一种代理机制，通过事件拦截和处理实现事件序列的变换。</strong></li>
</ul>

<p>精简掉细节的话，也可以这么说：在 <code>Observable</code> 执行了 <code>lift(Operator)</code> 方法之后，会返回一个新的 <code>Observable</code>，这个新的 <code>Observable</code> 会像一个代理一样，负责接收原始的 <code>Observable</code> 发出的事件，并在处理后发送给 <code>Subscriber</code>。</p>

<p>如果你更喜欢具象思维，可以看图：</p>

<p><img alt="lift() 原理图" data-src="http://ww1.sinaimg.cn/mw1024/52eb2279jw1f2rxcrna27j20h40d1q4f.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rxcrna27j20h40d1q4f.jpg"></p>

<p>或者可以看动图：</p>

<p><img alt="lift 原理动图" data-src="http://ww4.sinaimg.cn/mw1024/52eb2279jw1f2rxcu9f46g20go0cz4qp.gif" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rxcu9f46g20go0cz4qp.gif"></p>

<p>两次和多次的 <code>lift()</code> 同理，如下图：</p>

<p><img alt="两次 lift" data-src="http://ww1.sinaimg.cn/mw1024/52eb2279jw1f2rxcvophmj20h30hl0v3.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rxcvophmj20h30hl0v3.jpg"></p>

<p>举一个具体的 <code>Operator</code> 的实现。下面这是一个将事件中的 <code>Integer</code> 对象转换成 <code>String</code> 的例子，仅供参考：</p>

<pre><code class="prettyprint prettyprinted"><span class="pln">observable</span><span class="pun">.</span><span class="pln">lift</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">.</span><span class="typ">Operator</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Subscriber</span><span class="pun">&lt;?</span><span class="pln"> </span><span class="kwd">super</span><span class="pln"> </span><span class="typ">Integer</span><span class="pun">&gt;</span><span class="pln"> call</span><span class="pun">(</span><span class="pln">final </span><span class="typ">Subscriber</span><span class="pun">&lt;?</span><span class="pln"> </span><span class="kwd">super</span><span class="pln"> </span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> subscriber</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// 将事件序列中的 Integer 对象转换为 String 对象</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Subscriber</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="lit">@Override</span><span class="pln">
            </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">Integer</span><span class="pln"> integer</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                subscriber</span><span class="pun">.</span><span class="pln">onNext</span><span class="pun">(</span><span class="str">""</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> integer</span><span class="pun">);</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">

            </span><span class="lit">@Override</span><span class="pln">
            </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCompleted</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                subscriber</span><span class="pun">.</span><span class="pln">onCompleted</span><span class="pun">();</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">

            </span><span class="lit">@Override</span><span class="pln">
            </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onError</span><span class="pun">(</span><span class="typ">Throwable</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                subscriber</span><span class="pun">.</span><span class="pln">onError</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">});</span></code></pre>

<blockquote>
  <p>讲述 <code>lift()</code> 的原理只是为了让你更好地了解 RxJava ，从而可以更好地使用它。然而不管你是否理解了 <code>lift()</code> 的原理，RxJava 都不建议开发者自定义 <code>Operator</code> 来直接使用 <code>lift()</code>，而是建议尽量使用已有的 <code>lift()</code> 包装方法（如 <code>map()</code> <code>flatMap()</code> 等）进行组合来实现需求，因为直接使用 lift() 非常容易发生一些难以发现的错误。</p>
</blockquote>

<h5 id="toc_20">3) compose: 对 Observable 整体的变换</h5>

<p>除了 <code>lift()</code> 之外， <code>Observable</code> 还有一个变换方法叫做 <code>compose(Transformer)</code>。它和 <code>lift()</code> 的区别在于， <strong><code>lift()</code> 是针对事件项和事件序列的，而 <code>compose()</code> 是针对 <code>Observable</code> 自身进行变换。</strong>举个例子，假设在程序中有多个 <code>Observable</code> ，并且他们都需要应用一组相同的 <code>lift()</code> 变换。你可以这么写：</p>

<pre><code class="prettyprint prettyprinted"><span class="pln">observable1
    </span><span class="pun">.</span><span class="pln">lift1</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift2</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift3</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift4</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber1</span><span class="pun">);</span><span class="pln">
observable2
    </span><span class="pun">.</span><span class="pln">lift1</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift2</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift3</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift4</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber2</span><span class="pun">);</span><span class="pln">
observable3
    </span><span class="pun">.</span><span class="pln">lift1</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift2</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift3</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift4</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber3</span><span class="pun">);</span><span class="pln">
observable4
    </span><span class="pun">.</span><span class="pln">lift1</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift2</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift3</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">lift4</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber1</span><span class="pun">);</span></code></pre>

<p>你觉得这样太不软件工程了，于是你改成了这样：</p>

<pre><code class="prettyprint prettyprinted"><span class="kwd">private</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> liftAll</span><span class="pun">(</span><span class="typ">Observable</span><span class="pln"> observable</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> observable
        </span><span class="pun">.</span><span class="pln">lift1</span><span class="pun">()</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">lift2</span><span class="pun">()</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">lift3</span><span class="pun">()</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">lift4</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">...</span><span class="pln">
liftAll</span><span class="pun">(</span><span class="pln">observable1</span><span class="pun">).</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber1</span><span class="pun">);</span><span class="pln">
liftAll</span><span class="pun">(</span><span class="pln">observable2</span><span class="pun">).</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber2</span><span class="pun">);</span><span class="pln">
liftAll</span><span class="pun">(</span><span class="pln">observable3</span><span class="pun">).</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber3</span><span class="pun">);</span><span class="pln">
liftAll</span><span class="pun">(</span><span class="pln">observable4</span><span class="pun">).</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber4</span><span class="pun">);</span></code></pre>

<p>可读性、可维护性都提高了。可是 <code>Observable</code> 被一个方法包起来，这种方式对于 <code>Observale</code> 的灵活性似乎还是增添了那么点限制。怎么办？这个时候，就应该用 <code>compose()</code> 来解决了：</p>

<pre><code class="prettyprint prettyprinted"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">LiftAllTransformer</span><span class="pln"> implements </span><span class="typ">Observable</span><span class="pun">.</span><span class="typ">Transformer</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Integer</span><span class="pun">&gt;</span><span class="pln"> observable</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> observable
            </span><span class="pun">.</span><span class="pln">lift1</span><span class="pun">()</span><span class="pln">
            </span><span class="pun">.</span><span class="pln">lift2</span><span class="pun">()</span><span class="pln">
            </span><span class="pun">.</span><span class="pln">lift3</span><span class="pun">()</span><span class="pln">
            </span><span class="pun">.</span><span class="pln">lift4</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">...</span><span class="pln">
</span><span class="typ">Transformer</span><span class="pln"> liftAll </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">LiftAllTransformer</span><span class="pun">();</span><span class="pln">
observable1</span><span class="pun">.</span><span class="pln">compose</span><span class="pun">(</span><span class="pln">liftAll</span><span class="pun">).</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber1</span><span class="pun">);</span><span class="pln">
observable2</span><span class="pun">.</span><span class="pln">compose</span><span class="pun">(</span><span class="pln">liftAll</span><span class="pun">).</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber2</span><span class="pun">);</span><span class="pln">
observable3</span><span class="pun">.</span><span class="pln">compose</span><span class="pun">(</span><span class="pln">liftAll</span><span class="pun">).</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber3</span><span class="pun">);</span><span class="pln">
observable4</span><span class="pun">.</span><span class="pln">compose</span><span class="pun">(</span><span class="pln">liftAll</span><span class="pun">).</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber4</span><span class="pun">);</span></code></pre>

<p>像上面这样，使用 <code>compose()</code> 方法，<code>Observable</code> 可以利用传入的 <code>Transformer</code> 对象的 <code>call</code> 方法直接对自身进行处理，也就不必被包在方法的里面了。</p>

<p><code>compose()</code> 的原理比较简单，不附图喽。</p>

<h4 id="toc_21">5. 线程控制：Scheduler (二)</h4>

<p>除了灵活的变换，RxJava 另一个牛逼的地方，就是线程的自由控制。</p>

<h5 id="toc_22">1) Scheduler 的 API (二)</h5>

<p>前面讲到了，可以利用 <code>subscribeOn()</code> 结合 <code>observeOn()</code> 来实现线程控制，让事件的产生和消费发生在不同的线程。可是在了解了 <code>map()</code> <code>flatMap()</code> 等变换方法后，有些好事的（其实就是当初刚接触 RxJava 时的我）就问了：能不能多切换几次线程？</p>

<p>答案是：能。因为 <code>observeOn()</code> 指定的是 <code>Subscriber</code> 的线程，而这个 <code>Subscriber</code> 并不是（严格说应该为『不一定是』，但这里不妨理解为『不是』）<code>subscribe()</code> 参数中的 <code>Subscriber</code> ，而是 <code>observeOn()</code> 执行时的当前 <code>Observable</code> 所对应的 <code>Subscriber</code> ，即它的直接下级 <code>Subscriber</code> 。换句话说，<code>observeOn()</code> 指定的是它之后的操作所在的线程。因此如果有多次切换线程的需求，只要在每个想要切换线程的位置调用一次 <code>observeOn()</code> 即可。上代码：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Observable</span><span class="pun">.</span><span class="pln">just</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln"> </span><span class="com">// IO 线程，由 subscribeOn() 指定</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribeOn</span><span class="pun">(</span><span class="typ">Schedulers</span><span class="pun">.</span><span class="pln">io</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">observeOn</span><span class="pun">(</span><span class="typ">Schedulers</span><span class="pun">.</span><span class="pln">newThread</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">mapOperator</span><span class="pun">)</span><span class="pln"> </span><span class="com">// 新线程，由 observeOn() 指定</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">observeOn</span><span class="pun">(</span><span class="typ">Schedulers</span><span class="pun">.</span><span class="pln">io</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">mapOperator2</span><span class="pun">)</span><span class="pln"> </span><span class="com">// IO 线程，由 observeOn() 指定</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">observeOn</span><span class="pun">(</span><span class="typ">AndroidSchedulers</span><span class="pun">.</span><span class="pln">mainThread</span><span class="pun">)</span><span class="pln"> 
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber</span><span class="pun">);</span><span class="pln">  </span><span class="com">// Android 主线程，由 observeOn() 指定</span></code></pre>

<p>如上，通过 <code>observeOn()</code> 的多次调用，程序实现了线程的多次切换。</p>

<p>不过，不同于 <code>observeOn()</code> ， <code>subscribeOn()</code> 的位置放在哪里都可以，但它是只能调用一次的。</p>

<p>又有好事的（其实还是当初的我）问了：如果我非要调用多次 <code>subscribeOn()</code> 呢？会有什么效果？</p>

<p>这个问题先放着，我们还是从 RxJava 线程控制的原理说起吧。</p>

<h5 id="toc_23">2) Scheduler 的原理（二）</h5>

<p>其实， <code>subscribeOn()</code> 和 <code>observeOn()</code> 的内部实现，也是用的 <code>lift()</code>。具体看图（不同颜色的箭头表示不同的线程）：</p>

<p><code>subscribeOn()</code> 原理图：</p>

<p><img alt="subscribeOn() 原理" data-src="http://ww4.sinaimg.cn/mw1024/52eb2279jw1f2rxcynbsuj20ha0d7wg2.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rxcynbsuj20ha0d7wg2.jpg"></p>

<p><code>observeOn()</code> 原理图：</p>

<p><img alt="observeOn() 原理" data-src="http://ww4.sinaimg.cn/mw1024/52eb2279jw1f2rxd05lttj20hj0cyabl.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rxd05lttj20hj0cyabl.jpg"></p>

<p>从图中可以看出，<code>subscribeOn()</code> 和 <code>observeOn()</code> 都做了线程切换的工作（图中的 "schedule..." 部位）。不同的是， <code>subscribeOn()</code> 的线程切换发生在 <code>OnSubscribe</code> 中，即在它通知上一级 <code>OnSubscribe</code> 时，这时事件还没有开始发送，因此 <code>subscribeOn()</code> 的线程控制可以从事件发出的开端就造成影响；而 <code>observeOn()</code> 的线程切换则发生在它内建的 <code>Subscriber</code> 中，即发生在它即将给下一级 <code>Subscriber</code> 发送事件时，因此 <code>observeOn()</code> 控制的是它后面的线程。</p>

<p>最后，我用一张图来解释当多个 <code>subscribeOn()</code> 和 <code>observeOn()</code> 混合使用时，线程调度是怎么发生的（由于图中对象较多，相对于上面的图对结构做了一些简化调整）：</p>

<p><img alt="线程控制综合调用" data-src="http://ww1.sinaimg.cn/mw1024/52eb2279jw1f2rxd1vl7xj20hd0hzq6e.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rxd1vl7xj20hd0hzq6e.jpg"></p>

<p>图中共有 5 处含有对事件的操作。由图中可以看出，①和②两处受第一个 <code>subscribeOn()</code> 影响，运行在红色线程；③和④处受第一个 <code>observeOn()</code> 的影响，运行在绿色线程；⑤处受第二个 <code>onserveOn()</code> 影响，运行在紫色线程；而第二个 <code>subscribeOn()</code> ，由于在通知过程中线程就被第一个 <code>subscribeOn()</code> 截断，因此对整个流程并没有任何影响。这里也就回答了前面的问题：当使用了多个 <code>subscribeOn()</code> 的时候，只有第一个 <code>subscribeOn()</code> 起作用。</p>

<h5 id="toc_24">3) 延伸：doOnSubscribe()</h5>

<p>然而，虽然超过一个的 <code>subscribeOn()</code> 对事件处理的流程没有影响，但在流程之前却是可以利用的。</p>

<p>在前面讲 <code>Subscriber</code> 的时候，提到过 <code>Subscriber</code> 的 <code>onStart()</code> 可以用作流程开始前的初始化。然而 <code>onStart()</code> 由于在 <code>subscribe()</code> 发生时就被调用了，因此不能指定线程，而是只能执行在 <code>subscribe()</code> 被调用时的线程。这就导致如果 <code>onStart()</code> 中含有对线程有要求的代码（例如在界面上显示一个 ProgressBar，这必须在主线程执行），将会有线程非法的风险，因为有时你无法预测 <code>subscribe()</code> 将会在什么线程执行。</p>

<p>而与 <code>Subscriber.onStart()</code> 相对应的，有一个方法 <code>Observable.doOnSubscribe()</code> 。它和 <code>Subscriber.onStart()</code> 同样是在 <code>subscribe()</code> 调用后而且在事件发送前执行，但区别在于它可以指定线程。默认情况下， <code>doOnSubscribe()</code> 执行在 <code>subscribe()</code> 发生的线程；而如果在 <code>doOnSubscribe()</code> 之后有 <code>subscribeOn()</code> 的话，它将执行在离它最近的 <code>subscribeOn()</code> 所指定的线程。</p>

<p>示例代码：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Observable</span><span class="pun">.</span><span class="pln">create</span><span class="pun">(</span><span class="pln">onSubscribe</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribeOn</span><span class="pun">(</span><span class="typ">Schedulers</span><span class="pun">.</span><span class="pln">io</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">doOnSubscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Action0</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            progressBar</span><span class="pun">.</span><span class="pln">setVisibility</span><span class="pun">(</span><span class="typ">View</span><span class="pun">.</span><span class="pln">VISIBLE</span><span class="pun">);</span><span class="pln"> </span><span class="com">// 需要在主线程执行</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribeOn</span><span class="pun">(</span><span class="typ">AndroidSchedulers</span><span class="pun">.</span><span class="pln">mainThread</span><span class="pun">())</span><span class="pln"> </span><span class="com">// 指定主线程</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">observeOn</span><span class="pun">(</span><span class="typ">AndroidSchedulers</span><span class="pun">.</span><span class="pln">mainThread</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">subscriber</span><span class="pun">);</span></code></pre>

<p>如上，在 <code>doOnSubscribe()</code>的后面跟一个 <code>subscribeOn()</code> ，就能指定准备工作的线程了。</p>

<h3 id="toc_25">RxJava 的适用场景和使用方式</h3>

<h4 id="toc_26">1. 与 Retrofit 的结合</h4>

<blockquote>
  <p>Retrofit 是 Square 的一个著名的网络请求库。没有用过 Retrofit 的可以选择跳过这一小节也没关系，我举的每种场景都只是个例子，而且例子之间并无前后关联，只是个抛砖引玉的作用，所以你跳过这里看别的场景也可以的。</p>
</blockquote>

<p>Retrofit 除了提供了传统的 <code>Callback</code> 形式的 API，还有 RxJava 版本的 <code>Observable</code> 形式 API。下面我用对比的方式来介绍 Retrofit 的 RxJava 版 API 和传统版本的区别。</p>

<p>以获取一个 <code>User</code> 对象的接口作为例子。使用Retrofit 的传统 API，你可以用这样的方式来定义请求：</p>

<pre><code class="prettyprint prettyprinted"><span class="lit">@GET</span><span class="pun">(</span><span class="str">"/user"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> getUser</span><span class="pun">(</span><span class="lit">@Query</span><span class="pun">(</span><span class="str">"userId"</span><span class="pun">)</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> userId</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Callback</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;</span><span class="pln"> callback</span><span class="pun">);</span></code></pre>

<p>在程序的构建过程中， Retrofit 会把自动把方法实现并生成代码，然后开发者就可以利用下面的方法来获取特定用户并处理响应：</p>

<pre><code class="prettyprint prettyprinted"><span class="pln">getUser</span><span class="pun">(</span><span class="pln">userId</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Callback</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> success</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        userView</span><span class="pun">.</span><span class="pln">setUser</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> failure</span><span class="pun">(</span><span class="typ">RetrofitError</span><span class="pln"> error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// Error handling</span><span class="pln">
        </span><span class="pun">...</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code></pre>

<p>而使用 RxJava 形式的 API，定义同样的请求是这样的：</p>

<pre><code class="prettyprint prettyprinted"><span class="lit">@GET</span><span class="pun">(</span><span class="str">"/user"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;</span><span class="pln"> getUser</span><span class="pun">(</span><span class="lit">@Query</span><span class="pun">(</span><span class="str">"userId"</span><span class="pun">)</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> userId</span><span class="pun">);</span></code></pre>

<p>使用的时候是这样的：</p>

<pre><code class="prettyprint prettyprinted"><span class="pln">getUser</span><span class="pun">(</span><span class="pln">userId</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">observeOn</span><span class="pun">(</span><span class="typ">AndroidSchedulers</span><span class="pun">.</span><span class="pln">mainThread</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Observer</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            userView</span><span class="pun">.</span><span class="pln">setUser</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCompleted</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onError</span><span class="pun">(</span><span class="typ">Throwable</span><span class="pln"> error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// Error handling</span><span class="pln">
            </span><span class="pun">...</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span></code></pre>

<p>看到区别了吗？</p>

<p>当 RxJava 形式的时候，Retrofit 把请求封装进 <code>Observable</code> ，在请求结束后调用 <code>onNext()</code> 或在请求失败后调用 <code>onError()</code>。</p>

<p>对比来看， <code>Callback</code> 形式和 <code>Observable</code> 形式长得不太一样，但本质都差不多，而且在细节上 <code>Observable</code> 形式似乎还比 <code>Callback</code> 形式要差点。那 Retrofit 为什么还要提供 RxJava 的支持呢？</p>

<p>因为它好用啊！从这个例子看不出来是因为这只是最简单的情况。而一旦情景复杂起来， <code>Callback</code> 形式马上就会开始让人头疼。比如：</p>

<p>假设这么一种情况：你的程序取到的 <code>User</code> 并不应该直接显示，而是需要先与数据库中的数据进行比对和修正后再显示。使用 <code>Callback</code> 方式大概可以这么写：</p>

<pre><code class="prettyprint prettyprinted"><span class="pln">getUser</span><span class="pun">(</span><span class="pln">userId</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Callback</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> success</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        processUser</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln"> </span><span class="com">// 尝试修正 User 数据</span><span class="pln">
        userView</span><span class="pun">.</span><span class="pln">setUser</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> failure</span><span class="pun">(</span><span class="typ">RetrofitError</span><span class="pln"> error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// Error handling</span><span class="pln">
        </span><span class="pun">...</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code></pre>

<p>有问题吗？</p>

<p>很简便，但不要这样做。为什么？因为这样做会影响性能。数据库的操作很重，一次读写操作花费 10~20ms 是很常见的，这样的耗时很容易造成界面的卡顿。所以通常情况下，如果可以的话一定要避免在主线程中处理数据库。所以为了提升性能，这段代码可以优化一下：</p>

<pre><code class="prettyprint prettyprinted"><span class="pln">getUser</span><span class="pun">(</span><span class="pln">userId</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Callback</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> success</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Thread</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="lit">@Override</span><span class="pln">
            </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                processUser</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln"> </span><span class="com">// 尝试修正 User 数据</span><span class="pln">
                runOnUiThread</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Runnable</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// 切回 UI 线程</span><span class="pln">
                    </span><span class="lit">@Override</span><span class="pln">
                    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                        userView</span><span class="pun">.</span><span class="pln">setUser</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln">
                    </span><span class="pun">}</span><span class="pln">
                </span><span class="pun">});</span><span class="pln">
            </span><span class="pun">}).</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> failure</span><span class="pun">(</span><span class="typ">RetrofitError</span><span class="pln"> error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// Error handling</span><span class="pln">
        </span><span class="pun">...</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code></pre>

<p>性能问题解决，但……这代码实在是太乱了，迷之缩进啊！杂乱的代码往往不仅仅是美观问题，因为代码越乱往往就越难读懂，而如果项目中充斥着杂乱的代码，无疑会降低代码的可读性，造成团队开发效率的降低和出错率的升高。</p>

<p>这时候，如果用 RxJava 的形式，就好办多了。 RxJava 形式的代码是这样的：</p>

<pre><code class="prettyprint prettyprinted"><span class="pln">getUser</span><span class="pun">(</span><span class="pln">userId</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">doOnNext</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Action1</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            processUser</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">observeOn</span><span class="pun">(</span><span class="typ">AndroidSchedulers</span><span class="pun">.</span><span class="pln">mainThread</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Observer</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            userView</span><span class="pun">.</span><span class="pln">setUser</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCompleted</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onError</span><span class="pun">(</span><span class="typ">Throwable</span><span class="pln"> error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// Error handling</span><span class="pln">
            </span><span class="pun">...</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span></code></pre>

<p>后台代码和前台代码全都写在一条链中，明显清晰了很多。</p>

<p>再举一个例子：假设 <code>/user</code> 接口并不能直接访问，而需要填入一个在线获取的 <code>token</code> ，代码应该怎么写？</p>

<p><code>Callback</code> 方式，可以使用嵌套的 <code>Callback</code>：</p>

<pre><code class="prettyprint prettyprinted"><span class="lit">@GET</span><span class="pun">(</span><span class="str">"/token"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> getToken</span><span class="pun">(</span><span class="typ">Callback</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> callback</span><span class="pun">);</span><span class="pln">

</span><span class="lit">@GET</span><span class="pun">(</span><span class="str">"/user"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> getUser</span><span class="pun">(</span><span class="lit">@Query</span><span class="pun">(</span><span class="str">"token"</span><span class="pun">)</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> token</span><span class="pun">,</span><span class="pln"> </span><span class="lit">@Query</span><span class="pun">(</span><span class="str">"userId"</span><span class="pun">)</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> userId</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Callback</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;</span><span class="pln"> callback</span><span class="pun">);</span><span class="pln">

</span><span class="pun">...</span><span class="pln">

getToken</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Callback</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> success</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> token</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        getUser</span><span class="pun">(</span><span class="pln">token</span><span class="pun">,</span><span class="pln"> userId</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Callback</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="lit">@Override</span><span class="pln">
            </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> success</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                userView</span><span class="pun">.</span><span class="pln">setUser</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">

            </span><span class="lit">@Override</span><span class="pln">
            </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> failure</span><span class="pun">(</span><span class="typ">RetrofitError</span><span class="pln"> error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
                </span><span class="com">// Error handling</span><span class="pln">
                </span><span class="pun">...</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> failure</span><span class="pun">(</span><span class="typ">RetrofitError</span><span class="pln"> error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="com">// Error handling</span><span class="pln">
        </span><span class="pun">...</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">});</span></code></pre>

<p>倒是没有什么性能问题，可是迷之缩进毁一生，你懂我也懂，做过大项目的人应该更懂。</p>

<p>而使用 RxJava 的话，代码是这样的：</p>

<pre><code class="prettyprint prettyprinted"><span class="lit">@GET</span><span class="pun">(</span><span class="str">"/token"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">&gt;</span><span class="pln"> getToken</span><span class="pun">();</span><span class="pln">

</span><span class="lit">@GET</span><span class="pun">(</span><span class="str">"/user"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;</span><span class="pln"> getUser</span><span class="pun">(</span><span class="lit">@Query</span><span class="pun">(</span><span class="str">"token"</span><span class="pun">)</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> token</span><span class="pun">,</span><span class="pln"> </span><span class="lit">@Query</span><span class="pun">(</span><span class="str">"userId"</span><span class="pun">)</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> userId</span><span class="pun">);</span><span class="pln">

</span><span class="pun">...</span><span class="pln">

getToken</span><span class="pun">()</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">flatMap</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Func1</span><span class="pun">&lt;</span><span class="typ">String</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> token</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> getUser</span><span class="pun">(</span><span class="pln">token</span><span class="pun">,</span><span class="pln"> userId</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">observeOn</span><span class="pun">(</span><span class="typ">AndroidSchedulers</span><span class="pun">.</span><span class="pln">mainThread</span><span class="pun">())</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Observer</span><span class="pun">&lt;</span><span class="typ">User</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onNext</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            userView</span><span class="pun">.</span><span class="pln">setUser</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onCompleted</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">

        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> onError</span><span class="pun">(</span><span class="typ">Throwable</span><span class="pln"> error</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// Error handling</span><span class="pln">
            </span><span class="pun">...</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span></code></pre>

<p>用一个 <code>flatMap()</code> 就搞定了逻辑，依然是一条链。看着就很爽，是吧？</p>

<p>2016/03/31 更新，加上我写的一个 Sample 项目： <br>
<a href="https://github.com/rengwuxian/RxJavaSamples">rengwuxian RxJava Samples</a></p>

<p>好，Retrofit 部分就到这里。</p>

<h4 id="toc_27">2. RxBinding</h4>

<p><a href="https://github.com/JakeWharton/RxBinding">RxBinding</a> 是 Jake Wharton 的一个开源库，它提供了一套在 Android 平台上的基于 RxJava 的 Binding API。所谓 Binding，就是类似设置 <code>OnClickListener</code> 、设置 <code>TextWatcher</code> 这样的注册绑定对象的 API。</p>

<p>举个设置点击监听的例子。使用 <code>RxBinding</code> ，可以把事件监听用这样的方法来设置：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">Button</span><span class="pln"> button </span><span class="pun">=</span><span class="pln"> </span><span class="pun">...;</span><span class="pln">
</span><span class="typ">RxView</span><span class="pun">.</span><span class="pln">clickEvents</span><span class="pun">(</span><span class="pln">button</span><span class="pun">)</span><span class="pln"> </span><span class="com">// 以 Observable 形式来反馈点击事件</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Action1</span><span class="pun">&lt;</span><span class="typ">ViewClickEvent</span><span class="pun">&gt;()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="lit">@Override</span><span class="pln">
        </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> call</span><span class="pun">(</span><span class="typ">ViewClickEvent</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// Click handling</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span></code></pre>

<p>看起来除了形式变了没什么区别，实质上也是这样。甚至如果你看一下它的源码，你会发现它连实现都没什么惊喜：它的内部是直接用一个包裹着的 <code>setOnClickListener()</code> 来实现的。然而，仅仅这一个形式的改变，却恰好就是 <code>RxBinding</code> 的目的：扩展性。通过 <code>RxBinding</code> 把点击监听转换成 <code>Observable</code> 之后，就有了对它进行扩展的可能。扩展的方式有很多，根据需求而定。一个例子是前面提到过的 <code>throttleFirst()</code> ，用于去抖动，也就是消除手抖导致的快速连环点击：</p>

<pre><code class="prettyprint prettyprinted"><span class="typ">RxView</span><span class="pun">.</span><span class="pln">clickEvents</span><span class="pun">(</span><span class="pln">button</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">throttleFirst</span><span class="pun">(</span><span class="lit">500</span><span class="pun">,</span><span class="pln"> </span><span class="typ">TimeUnit</span><span class="pun">.</span><span class="pln">MILLISECONDS</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">clickAction</span><span class="pun">);</span></code></pre>

<p>如果想对 <code>RxBinding</code> 有更多了解，可以去它的 <a href="https://github.com/JakeWharton/RxBinding">GitHub 项目</a> 下面看看。</p>

<h4 id="toc_28">3. 各种异步操作</h4>

<p>前面举的 <code>Retrofit</code> 和 <code>RxBinding</code> 的例子，是两个可以提供现成的 <code>Observable</code> 的库。而如果你有某些异步操作无法用这些库来自动生成 <code>Observable</code>，也完全可以自己写。例如数据库的读写、大图片的载入、文件压缩/解压等各种需要放在后台工作的耗时操作，都可以用 RxJava 来实现，有了之前几章的例子，这里应该不用再举例了。</p>

<h4 id="toc_29">4. RxBus</h4>

<p>RxBus 名字看起来像一个库，但它并不是一个库，而是一种模式，它的思想是使用 RxJava 来实现了 EventBus ，而让你不再需要使用 <code>Otto</code> 或者 GreenRobot 的 <code>EventBus</code>。至于什么是 RxBus，可以看<a href="http://nerds.weddingpartyapp.com/tech/2014/12/24/implementing-an-event-bus-with-rxjava-rxbus/">这篇文章</a>。顺便说一句，Flipboard 已经用 RxBus 替换掉了 <code>Otto</code> ，目前为止没有不良反应。</p>

<h3 id="toc_30">最后</h3>

<p>对于 Android 开发者来说， RxJava 是一个很难上手的库，因为它对于 Android 开发者来说有太多陌生的概念了。可是它真的很牛逼。因此，我写了这篇《给 Android 开发者的 RxJava 详解》，希望能给始终搞不明白什么是 RxJava 的人一些入门的指引，或者能让正在使用 RxJava 但仍然心存疑惑的人看到一些更深入的解析。无论如何，只要能给各位同为 Android 工程师的你们提供一些帮助，这篇文章的目的就达到了。</p>

<p>再次感谢对这篇文章的产出提供支持的各位： <br>
技术支持：<a href="http://weibo.com/wowwing" target="_blank">流火枫林</a> <br>
内测读者：<a href="http://weibo.com/daimajia" target="_blank">代码家</a>、<a href="http://weibo.com/u/3224930551" target="_blank">鲍永章</a>、<a href="https://github.com/drakeet" target="_blank">drakeet</a>、<a href="https://github.com/androidmalin" target="_blank">马琳</a>、<a href="http://weibo.com/kevingracie" target="_blank">有时放纵</a>、<a href="http://weibo.com/u/2559577095" target="_blank">程序亦非猿</a>、<a href="http://weibo.com/brucefromsdu" target="_blank">大头鬼</a>、<a href="http://weibo.com/u/2662418685" target="_blank">XZoomEye</a>、<a href="http://weibo.com/shadev" target="_blank">席德雨</a>、<a href="http://weibo.com/tcahead" target="_blank">TCahead</a>、<a href="http://weibo.com/u/1963663403" target="_blank">Tiiime</a>、<a href="http://weibo.com/208087666" target="_blank">Ailurus</a>、<a href="http://weibo.com/seniorszhai" target="_blank">宅学长</a>、<a href="http://naotou.github.io/" target="_blank">妖孽</a>、<a href="http://weibo.com/u/3214362483" target="_blank">大大大大大臣哥</a>、<a href="https://github.com/rizhilee" target="_blank">NicodeLee</a> <br>
赞助方：<a href="http://jobtong.com/" target="_blank">周伯通招聘</a>
是他们让我的文章能够以不那么丑陋的样子出现在大家面前。</p>

<h4 id="toc_31">关于作者</h4> 

<p>朱凯（扔物线），<a href="https://www.flipboard.cn/" target="_blank">Flipboard 北京</a> Android 工程师。 </p>

<p>微博：<a href="http://weibo.com/rengwuxian" target="_blank">扔物线</a> </p>

<p>GitHub：<a href="https://github.com/rengwuxian" target="_blank">rengwuxian</a> </p>

<h4 id="toc_32">为什么写这个？</h4>

<p>与两三年前的境况不同，中国现在已经不缺初级 Android 工程师，但中级和高级工程师严重供不应求。因此我决定从今天开始不定期地发布我的技术分享，只希望能够和大家共同提升，通过我们的成长来解决一点点国内互联网公司人才稀缺的困境，也提升各位技术党的收入。所以，不仅要写这篇，我还会写更多。至于内容的定位，我计划只定位真正的干货，一些边边角角的小技巧和炫酷的黑科技应该都不会写，总之希望每篇文章都能帮读者提升真正的实力。</p>

<p>2016.04.10：听家家说有人在评论里留言要给本文赞赏，我赶紧机智地提上裤子跑来贴上支付宝和微信的二维码：</p>

<p><img alt="payment_qrcode" data-src="http://ww2.sinaimg.cn/mw1024/52eb2279jw1f2rxyunlh1j20km0d1djg.jpg" src="./给 Android 开发者的 RxJava 详解_files/52eb2279jw1f2rxyunlh1j20km0d1djg.jpg"></p>

        </div>
        <div class="copyright">
            <ul>
                <li>作者：<a href="https://github.com/rengwuxian" target="_blank">扔物线</a>
                </li>
                <li>发布时间：2015-10-02 05:27</li>
                <li>更新时间：2016-08-01 09:52</li>
                <li>版权声明：禁止任何形式的全文转载，如需合作，请<a href="mailto:daimajia@gmail.com">联络我</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="footer">
        
            <div class="ds-thread" data-thread-key="560e15be2dca930e00da1083" data-title="给 Android 开发者的 RxJava 详解" data-url="http://gank.io/post/560e15be2dca930e00da1083" id="ds-thread">
<div id="ds-reset"><div class="ds-meta" style="display: none;"><a href="javascript:void(0)" class="ds-like-thread-button ds-rounded"><span class="ds-icon ds-icon-heart"></span> <span class="ds-thread-like-text">喜欢</span><span class="ds-thread-cancel-like">取消喜欢</span></a><span class="ds-like-panel"><span class="ds-highlight">62</span> 人喜欢</span></div><div class="ds-rounded" id="ds-hot-posts"><div class="ds-header ds-gradient-bg">被顶起来的评论</div><ul><li class="ds-post" data-post-id="6267022752507495170"><div class="ds-post-self" data-post-id="6267022752507495170" data-thread-id="6261340968868381441" data-root-id="6266469262185988866" data-source="duoshuo"><div class="ds-avatar" data-user-id="6218130860927877890"><a rel="nofollow author" target="_blank" href="http://t.qq.com/Q1179524193" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6218130860927877890&#39;;" title="吕中宜"><img src="./给 Android 开发者的 RxJava 详解_files/100" alt="吕中宜"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/Q1179524193" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6218130860927877890&#39;;" rel="nofollow" target="_blank" data-user-id="6218130860927877890">吕中宜</a></div><p><a class="ds-comment-context" data-post-id="6267022752507495170" data-parent-id="6266469262185988866">回复 我: </a>前面跪着的快看，我们后面还排队在等着跪，别磨唧</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-28T16:49:01+08:00" title="2016年3月28日 下午4:49:01">3月28日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(7)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6293389361400513281"><div class="ds-post-self" data-post-id="6293389361400513281" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="1517298"><a rel="nofollow author" target="_blank" href="http://t.qq.com/Elen1160113614" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1517298&#39;;" title="张文浩"><img src="./给 Android 开发者的 RxJava 详解_files/50" alt="张文浩"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/Elen1160113614" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1517298&#39;;" rel="nofollow" target="_blank" data-user-id="1517298">张文浩</a></div><p>算是整明白这个东东了  但是Rxjava还有好多内容. 谢谢你的这篇文章带我入门.<br>
我看dome有个疑问<br>
xxxxxx.subscribeOn(Schedulers.io())//事件产生的线程。指定 subscribe() 发生在 IO 线程<br>
                // doOnSubscribe() 之后有 subscribeOn() 的话，它将执行在离它最近的 subscribeOn() 所指定的线程。这里将执行在主线程中<br>
                .doOnSubscribe(new Action0() {<br>
                    @Override<br>
                    public void call() {<br>
                        Log.d("Tag1", Thread.currentThread().toString());//打印结果 Thread[main,5,main]<br>
                        if (mProgressBar != null) {<br>
                            mProgressBar.setVisibility(View.VISIBLE);//显示一个等待的ProgressBar--需要在主线程中执行<br>
                        }<br>
                    }<br>
                })<br>
                //.subscribeOn(AndroidSchedulers.mainThread())<br>
如果最近的subscribeOn方法生效  不是应该在io线程吗?为什么这里还是主线程?<br>
难道这里还是和"如果doOnSubscribe之后还有subscribeOn指定线程,那么doOnSubscribe它将执行在最近subscribeOn指定点线程中",结合我现在遇见的问题,解释就是,我当前代码subscribeOn之后的代码没有doOnSubscribe再指定线程,所以还是在主线程吗? 是这样理解吗?</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-07T18:04:55+08:00" title="2016年6月7日 下午6:04:55">6月7日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(5)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6339809346666365697"><div class="ds-post-self" data-post-id="6339809346666365697" data-thread-id="6261340968868381441" data-root-id="6265491516739814146" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="唐瑞"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">唐瑞</span></div><p><a class="ds-comment-context" data-post-id="6339809346666365697" data-parent-id="6265491516739814146">回复 行者无疆: </a>并不是只有UI线程才能操作UI，不信你可以在onCreate方法里面new一个Thread直接修改UI看会不会报错，只有在Activity执行了onStart方法之后操作UI才会报错</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-10-10T20:18:10+08:00" title="2016年10月10日 下午8:18:10">10月10日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(1)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></div><div class="ds-comments-info"><div class="ds-sort"><a class="ds-order-desc">最新</a><a class="ds-order-asc ds-current">最早</a><a class="ds-order-hot">最热</a></div><ul class="ds-comments-tabs"><li class="ds-tab"><a class="ds-comments-tab-duoshuo ds-current" href="javascript:void(0);"><span class="ds-highlight">282</span>条评论</a></li> <li class="ds-tab"><a class="ds-comments-tab-weibo" href="javascript:void(0);"><span class="ds-highlight">73</span>条新浪微博</a></li> </ul></div><ul class="ds-comments"><li class="ds-post" data-post-id="6261819900117910274"><div class="ds-post-self" data-post-id="6261819900117910274" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6261819614464836354"><a rel="nofollow author" target="_blank" href="http://t.qq.com/yzy19911218" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6261819614464836354&#39;;" title="杨震宇"><img src="./给 Android 开发者的 RxJava 详解_files/50(1)" alt="杨震宇"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/yzy19911218" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6261819614464836354&#39;;" rel="nofollow" target="_blank" data-user-id="6261819614464836354">杨震宇</a></div><p>写的很好很详细，长见识了。看了一两个小时，边看边笔记，只看了一半，看的好累啊，篇幅太长了点。支持楼主</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-14T16:19:17+08:00" title="2016年3月14日 下午4:19:17">3月14日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6311810564540596993"><div class="ds-post-self" data-post-id="6311810564540596993" data-thread-id="6261340968868381441" data-root-id="6261819900117910274" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>推荐rxsample <a href="https://github.com/leeowenowen/rxjava-examples" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:28:36+08:00" title="2016年7月27日 上午9:28:36">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6312332537255428865"><div class="ds-post-self" data-post-id="6312332537255428865" data-thread-id="6261340968868381441" data-root-id="6261819900117910274" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="Tian"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">Tian</span></div><p>下载了你的例子，编译时提示错误import rx.internal.operators.OperatorMap; 找不到，<br>
看了下包里的确没有OperatorMap这个类，不知是不是包的内容更新了，<br>
因为你的dependencies里没有指定包的特定版本号，都是"+"<br>
<br>
建议下次发布工程dependencies还是要指定包的版本号</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-28T19:14:07+08:00" title="2016年7月28日 下午7:14:07">7月28日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6314183537499046658"><div class="ds-post-self" data-post-id="6314183537499046658" data-thread-id="6261340968868381441" data-root-id="6261819900117910274" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>有可能，我这两天检查更新下，多谢提醒啦</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-08-02T18:56:57+08:00" title="2016年8月2日 下午6:56:57">8月2日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li></ul></li></ul></li><li class="ds-post" data-post-id="6262186116330291970"><div class="ds-post-self" data-post-id="6262186116330291970" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="space0o0"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">space0o0</span></div><p>赞啊，虽然有好多都看不懂。。。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-15T16:00:24+08:00" title="2016年3月15日 下午4:00:24">3月15日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6262233692312175361"><div class="ds-post-self" data-post-id="6262233692312175361" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6262233225561637633"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6262233225561637633&#39;;" title="登凯"><img src="./给 Android 开发者的 RxJava 详解_files/0(1)" alt="登凯"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6262233225561637633&#39;;" rel="nofollow" target="_blank" data-user-id="6262233225561637633">登凯</a></div><p>很好很牛逼&amp;……看了两个下午，第一次是听说rxjava，开始感兴趣的时候看这篇，似懂非懂……当下决心开始把现有项目用rrd架构重写的时候一头雾水再来看这篇，简直是雪中送炭，感谢作者的分享精神……</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-15T19:05:01+08:00" title="2016年3月15日 下午7:05:01">3月15日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6262241005907477250"><div class="ds-post-self" data-post-id="6262241005907477250" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6254456000200311554"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6254456000200311554&#39;;" title="易水"><img src="./给 Android 开发者的 RxJava 详解_files/0(2)" alt="易水"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6254456000200311554&#39;;" rel="nofollow" target="_blank" data-user-id="6254456000200311554">易水</a></div><p>非常精彩，一整天，敲完示例代码，完整看完，对RxJava有了一定的认识，RxJava非常酷，这样子看来，RxJava会发展成为泛RxJava框架和思想的基础。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-15T19:33:24+08:00" title="2016年3月15日 下午7:33:24">3月15日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6262525530189333250"><div class="ds-post-self" data-post-id="6262525530189333250" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6262525159152812802"><a rel="nofollow author" target="_blank" href="http://weibo.com/5134560893" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6262525159152812802&#39;;" title="MonsterShine"><img src="./给 Android 开发者的 RxJava 详解_files/1" alt="MonsterShine"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/5134560893" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6262525159152812802&#39;;" rel="nofollow" target="_blank" data-user-id="6262525159152812802">MonsterShine</a></div><p>记录</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-16T13:57:30+08:00" title="2016年3月16日 下午1:57:30">3月16日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6262538893468369666"><div class="ds-post-self" data-post-id="6262538893468369666" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6262538297898173186"><a rel="nofollow author" target="_blank" href="http://t.qq.com/zhen3838" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6262538297898173186&#39;;" title="Jason"><img src="./给 Android 开发者的 RxJava 详解_files/50(2)" alt="Jason"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/zhen3838" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6262538297898173186&#39;;" rel="nofollow" target="_blank" data-user-id="6262538297898173186">Jason</a></div><p>十分感谢！初学RxJava，感觉收获丰富！</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-16T14:49:21+08:00" title="2016年3月16日 下午2:49:21">3月16日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6262564608435815170"><div class="ds-post-self" data-post-id="6262564608435815170" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="ssgxx"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">ssgxx</span></div><p>谢谢分享，最近正在整理思路，很有帮助</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-16T16:29:08+08:00" title="2016年3月16日 下午4:29:08">3月16日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6262685973126054658"><div class="ds-post-self" data-post-id="6262685973126054658" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="12258363"><a rel="nofollow author" target="_blank" href="http://weibo.com/benhero" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=12258363&#39;;" title="奔ben苯笨"><img src="./给 Android 开发者的 RxJava 详解_files/1(1)" alt="奔ben苯笨"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/benhero" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=12258363&#39;;" rel="nofollow" target="_blank" data-user-id="12258363">奔ben苯笨</a></div><p>这应该是我看过最长，概念最多的文章，看了好几个小时，但是基本都看懂，写得真好！👍</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-17T00:20:06+08:00" title="2016年3月17日 上午12:20:06">3月17日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6262851789909918465"><div class="ds-post-self" data-post-id="6262851789909918465" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="4297674"><a rel="nofollow author" target="_blank" href="http://xiaowutongxue.com/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=4297674&#39;;" title="杨 学武"><img src="./给 Android 开发者的 RxJava 详解_files/100(1)" alt="杨 学武"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://xiaowutongxue.com/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=4297674&#39;;" rel="nofollow" target="_blank" data-user-id="4297674">杨 学武</a></div><p>写的太好了  膜拜</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-17T11:03:33+08:00" title="2016年3月17日 上午11:03:33">3月17日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6262862968048845570"><div class="ds-post-self" data-post-id="6262862968048845570" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6262860537256739586"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6262860537256739586&#39;;" title="大白"><img src="./给 Android 开发者的 RxJava 详解_files/0(3)" alt="大白"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6262860537256739586&#39;;" rel="nofollow" target="_blank" data-user-id="6262860537256739586">大白</a></div><p>android新手，感觉有点想js的链式哦</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-17T11:46:55+08:00" title="2016年3月17日 上午11:46:55">3月17日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6262957972255671042"><div class="ds-post-self" data-post-id="6262957972255671042" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="11860417"><a rel="nofollow author" target="_blank" href="http://t.qq.com/h1078824402" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11860417&#39;;" title="华伟"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="华伟"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/h1078824402" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11860417&#39;;" rel="nofollow" target="_blank" data-user-id="11860417">华伟</a></div><p>牛掰，这么长写了很久吧，辛苦，感谢分享</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-17T17:55:35+08:00" title="2016年3月17日 下午5:55:35">3月17日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6262974826789470977"><div class="ds-post-self" data-post-id="6262974826789470977" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="民工君"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">民工君</span></div><p>在版本<br>
RxJava-1.1.1<br>
Retrofit-2.0.0<br>
测试中，发现onStart() 和doOnSubscribe()默认都是在主线程，且onStart()不管怎么Scheduler 一直都是在主线程，楼主可用新版本测试下</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-17T19:01:00+08:00" title="2016年3月17日 下午7:01:00">3月17日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6309603718719341313"><div class="ds-post-self" data-post-id="6309603718719341313" data-thread-id="6261340968868381441" data-root-id="6262974826789470977" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="xiaoq"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">xiaoq</span></div><p>链式的最后一句是 ".subscribe(subscriber)"，而"subscribe"方法原文说了它做了三件事，第一件就是调用"subscriber.onStart()"，，，，所以，你在哪个线程调用"subscribe"方法，则“subscriber.onStart()”就在那个线程执行，与原文"onStart() 由于在 subscribe() 发生时就被调用了，因此不能指定线程，而是只能执行在 subscribe() 被调用时的线程。"，并没有冲突，以上纯属个人理解。。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-21T10:44:55+08:00" title="2016年7月21日 上午10:44:55">7月21日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6309604469285847809"><div class="ds-post-self" data-post-id="6309604469285847809" data-thread-id="6261340968868381441" data-root-id="6262974826789470977" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="xiaoq"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">xiaoq</span></div><p>至于Scheduler ，你看链式就知道了，最后的".subscribe(subscriber)"这句的执行你是不能Scheduler 了的，你在哪个线程调用就执行在那个线程</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-21T10:47:49+08:00" title="2016年7月21日 上午10:47:49">7月21日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6311810957425246978"><div class="ds-post-self" data-post-id="6311810957425246978" data-thread-id="6261340968868381441" data-root-id="6262974826789470977" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>这个我写了个源码分析，doonsubscribe 与subscribe是在相同的线程上下文的。 <a href="https://github.com/leeowenowen/rxjava-examples/wiki/CodeAnalyse" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples/wiki/CodeAnalyse</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:30:07+08:00" title="2016年7月27日 上午9:30:07">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6322682325041677058"><div class="ds-post-self" data-post-id="6322682325041677058" data-thread-id="6261340968868381441" data-root-id="6262974826789470977" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="向阳的花"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">向阳的花</span></div><p>.subscribe(subscriber)是在主线程执行的，subscriber.onStart()也是在主线程执行。相反，则在子线程执行，没有冲突。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-08-25T16:36:35+08:00" title="2016年8月25日 下午4:36:35">8月25日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6263232218294911745"><div class="ds-post-self" data-post-id="6263232218294911745" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="Hvcker"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">Hvcker</span></div><p>必须给你点个赞</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-18T11:39:48+08:00" title="2016年3月18日 上午11:39:48">3月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6263309705452454657"><div class="ds-post-self" data-post-id="6263309705452454657" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="11136500"><a rel="nofollow author" target="_blank" href="http://weibo.com/2794826974" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11136500&#39;;" title="键盘上的海贼王"><img src="./给 Android 开发者的 RxJava 详解_files/a695acdejw8f4d9av8vzmj205k05nmx6.jpg" alt="键盘上的海贼王"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2794826974" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11136500&#39;;" rel="nofollow" target="_blank" data-user-id="11136500">键盘上的海贼王</a></div><p>的确很强大..But 对开发者的要求也是灰常高的..</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-18T16:40:30+08:00" title="2016年3月18日 下午4:40:30">3月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6263316091057996545"><div class="ds-post-self" data-post-id="6263316091057996545" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6258083818738025217"><a rel="nofollow author" target="_blank" href="http://i.woblog.cn/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6258083818738025217&#39;;" title="任苹蜻"><img src="./给 Android 开发者的 RxJava 详解_files/100(2)" alt="任苹蜻"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://i.woblog.cn/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6258083818738025217&#39;;" rel="nofollow" target="_blank" data-user-id="6258083818738025217">任苹蜻</a></div><p>很强大哦，写的也很不错，非常感谢！</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-18T17:05:16+08:00" title="2016年3月18日 下午5:05:16">3月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6263322309747016449"><div class="ds-post-self" data-post-id="6263322309747016449" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="4713341"><a rel="nofollow author" target="_blank" href="http://t.qq.com/softel_umkey" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=4713341&#39;;" title="空中保险箱"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="空中保险箱"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/softel_umkey" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=4713341&#39;;" rel="nofollow" target="_blank" data-user-id="4713341">空中保险箱</a></div><p>好难全部理解。一步步来。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-18T17:29:24+08:00" title="2016年3月18日 下午5:29:24">3月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6263325278089511682"><div class="ds-post-self" data-post-id="6263325278089511682" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="4713341"><a rel="nofollow author" target="_blank" href="http://t.qq.com/softel_umkey" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=4713341&#39;;" title="空中保险箱"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="空中保险箱"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/softel_umkey" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=4713341&#39;;" rel="nofollow" target="_blank" data-user-id="4713341">空中保险箱</a></div><p>我想问下rxjava中的rx是啥意思呢？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-18T17:40:55+08:00" title="2016年3月18日 下午5:40:55">3月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6263788994002158337"><div class="ds-post-self" data-post-id="6263788994002158337" data-thread-id="6261340968868381441" data-root-id="6263325278089511682" data-source="duoshuo"><div class="ds-avatar" data-user-id="661121"><a rel="nofollow author" target="_blank" href="http://weibo.com/1312972820" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=661121&#39;;" title="游戏阿柴"><img src="./给 Android 开发者的 RxJava 详解_files/1(2)" alt="游戏阿柴"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/1312972820" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=661121&#39;;" rel="nofollow" target="_blank" data-user-id="661121">游戏阿柴</a></div><p>The Reactive Extensions 简称Rx。。最早是大微软提出。。<a href="https://msdn.microsoft.com/en-us/data/gg577609?f=255&amp;MSPPError=-2147217396" target="_blank" rel="nofollow">https://msdn.microsoft.com/en-us/data/gg577609?f=255&amp;MSPPError=-2147217396</a> 然后Netflix 搞了一个jvm版本。。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-19T23:40:23+08:00" title="2016年3月19日 下午11:40:23">3月19日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6263967926223635202"><div class="ds-post-self" data-post-id="6263967926223635202" data-thread-id="6261340968868381441" data-root-id="6263325278089511682" data-source="duoshuo"><div class="ds-avatar" data-user-id="12427169"><a rel="nofollow author" target="_blank" href="http://xuyushi.github.io/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=12427169&#39;;" title="发呆二极管"><img src="./给 Android 开发者的 RxJava 详解_files/50(3)" alt="发呆二极管"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://xuyushi.github.io/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=12427169&#39;;" rel="nofollow" target="_blank" data-user-id="12427169">发呆二极管</a></div><p>ReactiveX是Reactive Extensions的缩写，一般简写为Rx<br>
ReactiveX 是一个使用可观察数据流进行异步编程的编程接口，ReactiveX结合了观察者模式、迭代器模式和函数式编程的精华</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-20T11:14:44+08:00" title="2016年3月20日 上午11:14:44">3月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6292926887807156994"><div class="ds-post-self" data-post-id="6292926887807156994" data-thread-id="6261340968868381441" data-root-id="6263325278089511682" data-source="duoshuo"><div class="ds-avatar" data-user-id="6292926825169421057"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6292926825169421057&#39;;" title="小编"><img src="./给 Android 开发者的 RxJava 详解_files/0(4)" alt="小编"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6292926825169421057&#39;;" rel="nofollow" target="_blank" data-user-id="6292926825169421057">小编</a></div><p>Reactive Extensions</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-06T12:10:17+08:00" title="2016年6月6日 下午12:10:17">6月6日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6263326696343077634"><div class="ds-post-self" data-post-id="6263326696343077634" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6263326073203720961"><a rel="nofollow author" target="_blank" href="http://weibo.com/justhao123" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6263326073203720961&#39;;" title="Zhude浩"><img src="./给 Android 开发者的 RxJava 详解_files/1(3)" alt="Zhude浩"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/justhao123" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6263326073203720961&#39;;" rel="nofollow" target="_blank" data-user-id="6263326073203720961">Zhude浩</a></div><p>赞~</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-18T17:46:26+08:00" title="2016年3月18日 下午5:46:26">3月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6263789479534789378"><div class="ds-post-self" data-post-id="6263789479534789378" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="661121"><a rel="nofollow author" target="_blank" href="http://weibo.com/1312972820" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=661121&#39;;" title="游戏阿柴"><img src="./给 Android 开发者的 RxJava 详解_files/1(2)" alt="游戏阿柴"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/1312972820" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=661121&#39;;" rel="nofollow" target="_blank" data-user-id="661121">游戏阿柴</a></div><p>android build tools 24 开启jack 可以原生支持了lambda 了。。。兼容性完全没问题。。亲测android 4.1 真机可以跑。。。。是不是可以找个时间更新一下？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-19T23:42:16+08:00" title="2016年3月19日 下午11:42:16">3月19日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6296701561586320129"><div class="ds-post-self" data-post-id="6296701561586320129" data-thread-id="6261340968868381441" data-root-id="6263789479534789378" data-source="duoshuo"><div class="ds-avatar" data-user-id="12368411"><a rel="nofollow author" target="_blank" href="http://t.qq.com/sharyuke" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=12368411&#39;;" title="sharyuke"><img src="./给 Android 开发者的 RxJava 详解_files/50(4)" alt="sharyuke"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/sharyuke" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=12368411&#39;;" rel="nofollow" target="_blank" data-user-id="12368411">sharyuke</a></div><p>但是现阶段还是由问题。有坑。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-16T16:17:57+08:00" title="2016年6月16日 下午4:17:57">6月16日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6264179184654877441"><div class="ds-post-self" data-post-id="6264179184654877441" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="11767341"><a rel="nofollow author" target="_blank" href="http://t.qq.com/WeiLiLiang-China" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11767341&#39;;" title="心情说"><img src="./给 Android 开发者的 RxJava 详解_files/167253.jpg" alt="心情说"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/WeiLiLiang-China" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11767341&#39;;" rel="nofollow" target="_blank" data-user-id="11767341">心情说</a></div><p>作者幽默风趣，把RxJava的使用和原理由简到繁，讪讪道来。谢谢分享，看的很过瘾。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-21T00:54:31+08:00" title="2016年3月21日 上午12:54:31">3月21日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6264378937351078658"><div class="ds-post-self" data-post-id="6264378937351078658" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="8607802"><a rel="nofollow author" target="_blank" href="http://t.qq.com/witype" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=8607802&#39;;" title="Typer"><img src="./给 Android 开发者的 RxJava 详解_files/100(3)" alt="Typer"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/witype" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=8607802&#39;;" rel="nofollow" target="_blank" data-user-id="8607802">Typer</a></div><p>比如现在我又一个phone和password需要做正则检查，用rxjava的话代码已经怎么写呢？<br>
谢谢</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-21T13:49:40+08:00" title="2016年3月21日 下午1:49:40">3月21日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6264707145657221890"><div class="ds-post-self" data-post-id="6264707145657221890" data-thread-id="6261340968868381441" data-root-id="6264378937351078658" data-source="duoshuo"><div class="ds-avatar" data-user-id="6264706757805736706"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6264706757805736706&#39;;" title="小瓜"><img src="./给 Android 开发者的 RxJava 详解_files/0(5)" alt="小瓜"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6264706757805736706&#39;;" rel="nofollow" target="_blank" data-user-id="6264706757805736706">小瓜</a></div><p>用map吧，看一下上面的示例，在map的func1里边做校验，然后再返回。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-22T11:03:17+08:00" title="2016年3月22日 上午11:03:17">3月22日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6315239286425780993"><div class="ds-post-self" data-post-id="6315239286425780993" data-thread-id="6261340968868381441" data-root-id="6264378937351078658" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="孙思远"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">孙思远</span></div><p>我觉得一些特别简单的逻辑还是用普通的写法比较好，不用什么逻辑都使用Rxjava吧？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-08-05T15:13:47+08:00" title="2016年8月5日 下午3:13:47">8月5日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6340785681626825474"><div class="ds-post-self" data-post-id="6340785681626825474" data-thread-id="6261340968868381441" data-root-id="6264378937351078658" data-source="duoshuo"><div class="ds-avatar" data-user-id="6340785361039393538"><a rel="nofollow author" target="_blank" href="http://t.qq.com/jiaotangmianbao999" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6340785361039393538&#39;;" title="焦糖面包"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="焦糖面包"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/jiaotangmianbao999" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6340785361039393538&#39;;" rel="nofollow" target="_blank" data-user-id="6340785361039393538">焦糖面包</a></div><p>我看来其实主要是为了扩展和维护，那么只要是可能会被二次开发的代码，涉及到异步，都应该用RXJava。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-10-13T11:26:51+08:00" title="2016年10月13日 上午11:26:51">10月13日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li></ul></li><li class="ds-post" data-post-id="6264506854185894658"><div class="ds-post-self" data-post-id="6264506854185894658" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="12912128"><img src="./给 Android 开发者的 RxJava 详解_files/100(4)" alt="soaic"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-user-id="12912128" data-qqt-account="">soaic</span></div><p>刚接触RxJava，看到这篇文章确实很有帮助，给作者点个赞</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-21T22:06:03+08:00" title="2016年3月21日 下午10:06:03">3月21日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6311811314868028161"><div class="ds-post-self" data-post-id="6311811314868028161" data-thread-id="6261340968868381441" data-root-id="6264506854185894658" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>推荐下rxjava学习示例<a href="https://github.com/leeowenowen/rxjava-examples" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:31:31+08:00" title="2016年7月27日 上午9:31:31">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6264790936845288194"><div class="ds-post-self" data-post-id="6264790936845288194" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="14194682"><a rel="nofollow author" target="_blank" href="http://t.qq.com/mayubaobut" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=14194682&#39;;" title="马羽保"><img src="./给 Android 开发者的 RxJava 详解_files/50(5)" alt="马羽保"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/mayubaobut" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=14194682&#39;;" rel="nofollow" target="_blank" data-user-id="14194682">马羽保</a></div><p>请收下我的膝盖~~</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-22T16:28:26+08:00" title="2016年3月22日 下午4:28:26">3月22日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6265152598458761985"><div class="ds-post-self" data-post-id="6265152598458761985" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="BingoHe"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">BingoHe</span></div><p>感谢</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-23T15:51:52+08:00" title="2016年3月23日 下午3:51:52">3月23日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6265177649367220993"><div class="ds-post-self" data-post-id="6265177649367220993" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6265177596896477953"><a rel="nofollow author" target="_blank" href="http://t.qq.com/huwenkai1553" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6265177596896477953&#39;;" title="胡文凯"><img src="./给 Android 开发者的 RxJava 详解_files/50(6)" alt="胡文凯"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/huwenkai1553" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6265177596896477953&#39;;" rel="nofollow" target="_blank" data-user-id="6265177596896477953">胡文凯</a></div><p>请问下，你demo中使用的RxView 以及 networkClient.token() 来自哪个包？还是自及定义的？在RxJava 和RxAndroid中没找到啊</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-23T17:29:04+08:00" title="2016年3月23日 下午5:29:04">3月23日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6282515756349391617"><div class="ds-post-self" data-post-id="6282515756349391617" data-thread-id="6261340968868381441" data-root-id="6265177649367220993" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="liulei"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">liulei</span></div><p>Rxbinding</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-09T10:49:47+08:00" title="2016年5月9日 上午10:49:47">5月9日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6265491516739814146"><div class="ds-post-self" data-post-id="6265491516739814146" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6265189940548600577"><img src="./给 Android 开发者的 RxJava 详解_files/100(5)" alt="行者无疆"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-user-id="6265189940548600577" data-qqt-account="">行者无疆</span></div><p>请问下楼主，我在尝试操作UI的例子的时候并没有调用observeOn(AndroidSchedulers.mainThread())，这时候发现UI中的imageview也可以在io线程操作后成功显示，请问这个怎么回事？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-24T13:47:02+08:00" title="2016年3月24日 下午1:47:02">3月24日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6307127450975339266"><div class="ds-post-self" data-post-id="6307127450975339266" data-thread-id="6261340968868381441" data-root-id="6265491516739814146" data-source="duoshuo"><div class="ds-avatar" data-user-id="6287789525091484418"><img src="./给 Android 开发者的 RxJava 详解_files/100(6)" alt="我是匿名的哥哥"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-user-id="6287789525091484418" data-qqt-account="">我是匿名的哥哥</span></div><p>这个我也遇到了，但是我发现new Thread然后去执行imageview.setImageDrawable 也没报错，真奇葩</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-14T18:35:44+08:00" title="2016年7月14日 下午6:35:44">7月14日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6339809346666365697"><div class="ds-post-self" data-post-id="6339809346666365697" data-thread-id="6261340968868381441" data-root-id="6265491516739814146" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="唐瑞"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">唐瑞</span></div><p>并不是只有UI线程才能操作UI，不信你可以在onCreate方法里面new一个Thread直接修改UI看会不会报错，只有在Activity执行了onStart方法之后操作UI才会报错</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-10-10T20:18:10+08:00" title="2016年10月10日 下午8:18:10">10月10日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(1)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6342780940980323074"><div class="ds-post-self" data-post-id="6342780940980323074" data-thread-id="6261340968868381441" data-root-id="6265491516739814146" data-source="duoshuo"><div class="ds-avatar" data-user-id="6252149975686316801"><a rel="nofollow author" target="_blank" href="http://t.qq.com/nEdAy_" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6252149975686316801&#39;;" title="苏晟"><img src="./给 Android 开发者的 RxJava 详解_files/100(7)" alt="苏晟"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/nEdAy_" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6252149975686316801&#39;;" rel="nofollow" target="_blank" data-user-id="6252149975686316801">苏晟</a></div><p>感谢 真的很感谢 就你这说了这件事</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-10-18T20:29:29+08:00" title="2016年10月18日 下午8:29:29">10月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6342988678037504769"><div class="ds-post-self" data-post-id="6342988678037504769" data-thread-id="6261340968868381441" data-root-id="6265491516739814146" data-source="duoshuo"><div class="ds-avatar" data-user-id="6342988569899959041"><a rel="nofollow author" target="_blank" href="http://t.qq.com/lxz1995" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6342988569899959041&#39;;" title="裂无痕"><img src="./给 Android 开发者的 RxJava 详解_files/50(7)" alt="裂无痕"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/lxz1995" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6342988569899959041&#39;;" rel="nofollow" target="_blank" data-user-id="6342988569899959041">裂无痕</a></div><p>可是我在onresume方法里  <br>
 .doOnSubscribe(new Action0() {<br>
                    @Override<br>
                    public void call() {<br>
                        // Toast.makeText(MainActivity.this,"a",Toast.LENGTH_LONG).show();<br>
                        aa.setText("a");<br>
                        pb.setVisibility(View.VISIBLE);<br>
                    }<br>
                })<br>
                .subscribeOn(Schedulers.io())<br>
<br>
<br>
还是不报错</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-10-19T09:55:36+08:00" title="2016年10月19日 上午9:55:36">10月19日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6344898016968704769"><div class="ds-post-self" data-post-id="6344898016968704769" data-thread-id="6261340968868381441" data-root-id="6265491516739814146" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="zhangnan"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">zhangnan</span></div><p>子线程是可以修改UI，必须要OnCreate方法，原因是android系统检查线程是由ViewRoot来完成，当我们访问UI时,ViewRoot会检查是在哪个线程访问的UI，如是不是在UI线程访问，程序就会抛出异常，在onCteate()中，ViewRoot还没有创建，ViewRoot的创建是在OnResume()中创建。所以在onCteate()子线程是可以访问UI的,前提是onResume()方法还没有创建。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-10-24T13:24:49+08:00" title="2016年10月24日 下午1:24:49">10月24日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li></ul></li><li class="ds-post" data-post-id="6265895209255568130"><div class="ds-post-self" data-post-id="6265895209255568130" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6260432946151293697"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6260432946151293697&#39;;" title="人中赤兔马中吕布"><img src="./给 Android 开发者的 RxJava 详解_files/0(6)" alt="人中赤兔马中吕布"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6260432946151293697&#39;;" rel="nofollow" target="_blank" data-user-id="6260432946151293697">人中赤兔马中吕布</a></div><p>扔物线大神，在创建 Observable 的时候是不是应该<br>
Observable&lt;String&gt; observable = Observable.create(new Observable.OnSubscribe&lt;String&gt;() {<br>
            @Override<br>
            public void call(Subscriber&lt;? super String&gt; subscriber) {<br>
<br>
            }<br>
        });<br>
这样？？没加&lt;String&gt;好像一直无法让IED自动写出call里的参数</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-25T15:53:34+08:00" title="2016年3月25日 下午3:53:34">3月25日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6274068389673566978"><div class="ds-post-self" data-post-id="6274068389673566978" data-thread-id="6261340968868381441" data-root-id="6265895209255568130" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="向阳的花"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">向阳的花</span></div><p>人家不是有写吗？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-16T16:29:41+08:00" title="2016年4月16日 下午4:29:41">4月16日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6265987030769992449"><div class="ds-post-self" data-post-id="6265987030769992449" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6265984906577314561"><a rel="nofollow author" target="_blank" href="http://t.qq.com/vincentMai001" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6265984906577314561&#39;;" title="禅居"><img src="./给 Android 开发者的 RxJava 详解_files/50(8)" alt="禅居"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/vincentMai001" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6265984906577314561&#39;;" rel="nofollow" target="_blank" data-user-id="6265984906577314561">禅居</a></div><p>看了好多篇相关文章，有几个问题一直没想明白<br>
1.观察者模式，如按钮点击事件监听，事件的产生是由屏幕捕获后系统发出来给按钮，按钮调用监听器代码进行的，RxJava的事件哪里产生的呢？怎么传递的呢？<br>
2.我看到支持Retrofit的网络调用，是因为这个库支持RxJava,但是根据写法我没看出来这个异步体现在哪？如果我们自己写的网络请求程序而不用Retrofit应该怎么写呢？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-25T21:49:53+08:00" title="2016年3月25日 下午9:49:53">3月25日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6268474573042221826"><div class="ds-post-self" data-post-id="6268474573042221826" data-thread-id="6261340968868381441" data-root-id="6265987030769992449" data-source="duoshuo"><div class="ds-avatar" data-user-id="6236955550689526529"><a rel="nofollow author" target="_blank" href="http://www.baidu.com/p/%E8%AF%B7%E5%85%81%E8%AE%B8%E6%88%91%E4%BA%B2%E5%90%BB%E4%BD%A0" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6236955550689526529&#39;;" title="请允许我亲吻你"><img src="./给 Android 开发者的 RxJava 详解_files/655ae8afb7e58581e8aeb8e68891e4bab2e590bbe4bda0c824.jpg" alt="请允许我亲吻你"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://www.baidu.com/p/%E8%AF%B7%E5%85%81%E8%AE%B8%E6%88%91%E4%BA%B2%E5%90%BB%E4%BD%A0" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6236955550689526529&#39;;" rel="nofollow" target="_blank" data-user-id="6236955550689526529">请允许我亲吻你</a></div><p>异步体现在哪？你有认真看这一节？——&gt;Scheduler</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-01T14:42:49+08:00" title="2016年4月1日 下午2:42:49">4月1日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6285937996889850626"><div class="ds-post-self" data-post-id="6285937996889850626" data-thread-id="6261340968868381441" data-root-id="6265987030769992449" data-source="duoshuo"><div class="ds-avatar" data-user-id="6285936644587520770"><a rel="nofollow author" target="_blank" href="http://t.qq.com/imixunlll" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6285936644587520770&#39;;" title="刘立磊"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="刘立磊"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/imixunlll" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6285936644587520770&#39;;" rel="nofollow" target="_blank" data-user-id="6285936644587520770">刘立磊</a></div><p>我之前的理解和你是一样的，但是看了这篇文章 发现 其实rxjava主要的强大之处是“异步”，楼主已经强调的很清楚了，如果你需要实现像EventBus之类的功能 ，可以使用RxBus直接代替。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-18T16:09:49+08:00" title="2016年5月18日 下午4:09:49">5月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6266469262185988866"><div class="ds-post-self" data-post-id="6266469262185988866" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="我"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">我</span></div><p>妈妈问我为什么跪着看文章</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-27T05:01:11+08:00" title="2016年3月27日 上午5:01:11">3月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6267022752507495170"><div class="ds-post-self" data-post-id="6267022752507495170" data-thread-id="6261340968868381441" data-root-id="6266469262185988866" data-source="duoshuo"><div class="ds-avatar" data-user-id="6218130860927877890"><a rel="nofollow author" target="_blank" href="http://t.qq.com/Q1179524193" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6218130860927877890&#39;;" title="吕中宜"><img src="./给 Android 开发者的 RxJava 详解_files/100" alt="吕中宜"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/Q1179524193" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6218130860927877890&#39;;" rel="nofollow" target="_blank" data-user-id="6218130860927877890">吕中宜</a></div><p>前面跪着的快看，我们后面还排队在等着跪，别磨唧</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-28T16:49:01+08:00" title="2016年3月28日 下午4:49:01">3月28日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(7)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6266720714083009282"><div class="ds-post-self" data-post-id="6266720714083009282" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="1951450"><a rel="nofollow author" target="_blank" href="http://weibo.com/2618211021" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1951450&#39;;" title="csr_yang"><img src="./给 Android 开发者的 RxJava 详解_files/1(4)" alt="csr_yang"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2618211021" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1951450&#39;;" rel="nofollow" target="_blank" data-user-id="1951450">csr_yang</a></div><p>好文一般都是排版舒服，概念清晰，段落划分合理，基本上几个条件都达到了，赞~</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-27T21:16:57+08:00" title="2016年3月27日 下午9:16:57">3月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6266996632085070593"><div class="ds-post-self" data-post-id="6266996632085070593" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6266996499385680641"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6266996499385680641&#39;;" title="李海涛"><img src="./给 Android 开发者的 RxJava 详解_files/0(7)" alt="李海涛"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6266996499385680641&#39;;" rel="nofollow" target="_blank" data-user-id="6266996499385680641">李海涛</a></div><p>我对map和flatMap的理解：map是把A变成B，而flatMap是把A变成Observable&lt;B&gt;。Java 8 Stream中也一样，flatMap是把A变成Stream&lt;B&gt;</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-28T15:07:39+08:00" title="2016年3月28日 下午3:07:39">3月28日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(1)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6299321456455058177"><div class="ds-post-self" data-post-id="6299321456455058177" data-thread-id="6261340968868381441" data-root-id="6266996632085070593" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="别说话"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">别说话</span></div><p>就是把两个for循环拆开来，更好看</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-23T17:44:29+08:00" title="2016年6月23日 下午5:44:29">6月23日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6311811776144999170"><div class="ds-post-self" data-post-id="6311811776144999170" data-thread-id="6261340968868381441" data-root-id="6266996632085070593" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>差别就是一个是同步map操作一个是异步map操作，如果在要map的函数中你需要做异步操作，就选择flatmap,否则选择map<br>
详细使用可参考示例<a href="https://github.com/leeowenowen/rxjava-examples" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:33:18+08:00" title="2016年7月27日 上午9:33:18">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6267022370108605186"><div class="ds-post-self" data-post-id="6267022370108605186" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="13033688"><a rel="nofollow author" target="_blank" href="http://t.qq.com/wao201409" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13033688&#39;;" title="哇哦"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="哇哦"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/wao201409" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13033688&#39;;" rel="nofollow" target="_blank" data-user-id="13033688">哇哦</a></div><p> <img src="./给 Android 开发者的 RxJava 详解_files/sleepa_org.gif" alt="[睡觉]" title="[睡觉]" class="ds-smiley"> </p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-28T16:47:32+08:00" title="2016年3月28日 下午4:47:32">3月28日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6267022411372167938"><div class="ds-post-self" data-post-id="6267022411372167938" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="13033688"><a rel="nofollow author" target="_blank" href="http://t.qq.com/wao201409" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13033688&#39;;" title="哇哦"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="哇哦"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/wao201409" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13033688&#39;;" rel="nofollow" target="_blank" data-user-id="13033688">哇哦</a></div><p> <img src="./给 Android 开发者的 RxJava 详解_files/lxhzhuanfa_org.gif" alt="[转发]" title="[转发]" class="ds-smiley"> </p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-28T16:47:41+08:00" title="2016年3月28日 下午4:47:41">3月28日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6267034085068112641"><div class="ds-post-self" data-post-id="6267034085068112641" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6267033683023102721"><a rel="nofollow author" target="_blank" href="http://t.qq.com/anyumao888" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6267033683023102721&#39;;" title="啊呆"><img src="./给 Android 开发者的 RxJava 详解_files/50(9)" alt="啊呆"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/anyumao888" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6267033683023102721&#39;;" rel="nofollow" target="_blank" data-user-id="6267033683023102721">啊呆</a></div><p>好文章。 牛</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-28T17:32:59+08:00" title="2016年3月28日 下午5:32:59">3月28日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6267365439374885634"><div class="ds-post-self" data-post-id="6267365439374885634" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="lu蓝白色"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">lu蓝白色</span></div><p>好文章，受益匪浅</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-29T14:58:49+08:00" title="2016年3月29日 下午2:58:49">3月29日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6267876232721859329"><div class="ds-post-self" data-post-id="6267876232721859329" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="11329356"><a rel="nofollow author" target="_blank" href="http://xxgblog.com/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11329356&#39;;" title="吴某人"><img src="./给 Android 开发者的 RxJava 详解_files/100(8)" alt="吴某人"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://xxgblog.com/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11329356&#39;;" rel="nofollow" target="_blank" data-user-id="11329356">吴某人</a></div><p>很幸运能看到这样的好文章！</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-31T00:00:57+08:00" title="2016年3月31日 上午12:00:57">3月31日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6268052190665900802"><div class="ds-post-self" data-post-id="6268052190665900802" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6268051667363562241"><img src="./给 Android 开发者的 RxJava 详解_files/100(9)" alt="習慣沉默"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-user-id="6268051667363562241" data-qqt-account="">習慣沉默</span></div><p>RxJava</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-31T11:23:46+08:00" title="2016年3月31日 上午11:23:46">3月31日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6268058393756304130"><div class="ds-post-self" data-post-id="6268058393756304130" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6268058354766054145"><a rel="nofollow author" target="_blank" href="http://weibo.com/2459409251" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6268058354766054145&#39;;" title="gogo一抹丶淡笑"><img src="./给 Android 开发者的 RxJava 详解_files/1(5)" alt="gogo一抹丶淡笑"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2459409251" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6268058354766054145&#39;;" rel="nofollow" target="_blank" data-user-id="6268058354766054145">gogo一抹丶淡笑</a></div><p>好文，推荐</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-31T11:47:50+08:00" title="2016年3月31日 上午11:47:50">3月31日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6268202117249368834"><div class="ds-post-self" data-post-id="6268202117249368834" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="13022878"><a rel="nofollow author" target="_blank" href="http://yaohepeng.com/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13022878&#39;;" title="yaohp"><img src="./给 Android 开发者的 RxJava 详解_files/100(10)" alt="yaohp"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://yaohepeng.com/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13022878&#39;;" rel="nofollow" target="_blank" data-user-id="13022878">yaohp</a></div><p>要看两遍才能消化</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-03-31T21:05:33+08:00" title="2016年3月31日 下午9:05:33">3月31日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6268473764028089089"><div class="ds-post-self" data-post-id="6268473764028089089" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="Kevin"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">Kevin</span></div><p>好东西，好用，可以摆脱A点定义后台任务，B点解析处理了。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-01T14:39:41+08:00" title="2016年4月1日 下午2:39:41">4月1日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6268493701069144833"><div class="ds-post-self" data-post-id="6268493701069144833" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6268493071336342273"><img src="./给 Android 开发者的 RxJava 详解_files/100(11)" alt="calmchaser"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-user-id="6268493071336342273" data-qqt-account="">calmchaser</span></div><p>此文只应天上有，人间不应该出现，好押韵。<br>
LZ这是吊炸天的节奏，这么复杂的文章，这么复杂的逻辑，我看了两个小时才看了一半，<br>
不过相较之前看过的RxAndroid相关的文章，LZ真乃神人也。<br>
相信我看两遍这篇文章再写两个demo就能把它用到工作中去了，LZ二十一世纪的活雷锋啊。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-01T15:57:03+08:00" title="2016年4月1日 下午3:57:03">4月1日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6269207072261276418"><div class="ds-post-self" data-post-id="6269207072261276418" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="12427169"><a rel="nofollow author" target="_blank" href="http://xuyushi.github.io/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=12427169&#39;;" title="发呆二极管"><img src="./给 Android 开发者的 RxJava 详解_files/50(3)" alt="发呆二极管"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://xuyushi.github.io/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=12427169&#39;;" rel="nofollow" target="_blank" data-user-id="12427169">发呆二极管</a></div><p>反复看了 好几遍，收货很多 ，感觉楼主的无私分享</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-03T14:05:17+08:00" title="2016年4月3日 下午2:05:17">4月3日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6269720893476307714"><div class="ds-post-self" data-post-id="6269720893476307714" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6269720864858571521"><a rel="nofollow author" target="_blank" href="http://t.qq.com/shizhewangji6325" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6269720864858571521&#39;;" title="凶残的程序员"><img src="./给 Android 开发者的 RxJava 详解_files/100(12)" alt="凶残的程序员"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/shizhewangji6325" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6269720864858571521&#39;;" rel="nofollow" target="_blank" data-user-id="6269720864858571521">凶残的程序员</a></div><p>楼主辛苦了！</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-04T23:19:11+08:00" title="2016年4月4日 下午11:19:11">4月4日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6271016814306657026"><div class="ds-post-self" data-post-id="6271016814306657026" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="dooelan"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">dooelan</span></div><p>简直卧槽，写的太清晰了，看起来比较轻松</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-08T11:08:01+08:00" title="2016年4月8日 上午11:08:01">4月8日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6271081847308944129"><div class="ds-post-self" data-post-id="6271081847308944129" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="彼时芒种"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">彼时芒种</span></div><p>只想问怎么没有赞赏功能</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-08T15:20:22+08:00" title="2016年4月8日 下午3:20:22">4月8日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6272097962206167809"><div class="ds-post-self" data-post-id="6272097962206167809" data-thread-id="6261340968868381441" data-root-id="6271081847308944129" data-source="duoshuo"><div class="ds-avatar" data-user-id="928249"><a rel="nofollow author" target="_blank" href="http://gank.io/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=928249&#39;;" title="代码家"><img src="./给 Android 开发者的 RxJava 详解_files/977d0d3e3f8a5577598424c49c1d4e00" alt="代码家"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://gank.io/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=928249&#39;;" rel="nofollow" target="_blank" data-user-id="928249">代码家</a></div><p>今天又二维码啦！欢迎打赏给作者。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-11T09:03:25+08:00" title="2016年4月11日 上午9:03:25">4月11日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6272139719883096834"><div class="ds-post-self" data-post-id="6272139719883096834" data-thread-id="6261340968868381441" data-root-id="6271081847308944129" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="彼时芒种"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">彼时芒种</span></div><p>能不能写个Retrofit2的教程？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-11T11:45:28+08:00" title="2016年4月11日 上午11:45:28">4月11日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6272323519799886594"><div class="ds-post-self" data-post-id="6272323519799886594" data-thread-id="6261340968868381441" data-root-id="6271081847308944129" data-source="duoshuo"><div class="ds-avatar" data-user-id="928249"><a rel="nofollow author" target="_blank" href="http://gank.io/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=928249&#39;;" title="代码家"><img src="./给 Android 开发者的 RxJava 详解_files/977d0d3e3f8a5577598424c49c1d4e00" alt="代码家"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://gank.io/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=928249&#39;;" rel="nofollow" target="_blank" data-user-id="928249">代码家</a></div><p><a href="http://gank.io/post/56e80c2c677659311bed9841" target="_blank" rel="nofollow">http://gank.io/post/56e80c2c677659311bed9841</a> 看看这个？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-11T23:38:42+08:00" title="2016年4月11日 下午11:38:42">4月11日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li></ul></li></ul></li><li class="ds-post" data-post-id="6271843851531453185"><div class="ds-post-self" data-post-id="6271843851531453185" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="Jesse"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">Jesse</span></div><p>放个二维码赞赏一下呗</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-10T16:37:20+08:00" title="2016年4月10日 下午4:37:20">4月10日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6272097858774631169"><div class="ds-post-self" data-post-id="6272097858774631169" data-thread-id="6261340968868381441" data-root-id="6271843851531453185" data-source="duoshuo"><div class="ds-avatar" data-user-id="928249"><a rel="nofollow author" target="_blank" href="http://gank.io/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=928249&#39;;" title="代码家"><img src="./给 Android 开发者的 RxJava 详解_files/977d0d3e3f8a5577598424c49c1d4e00" alt="代码家"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://gank.io/" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=928249&#39;;" rel="nofollow" target="_blank" data-user-id="928249">代码家</a></div><p>支持打赏啦~ 欢迎给原作者打赏~</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-11T09:03:01+08:00" title="2016年4月11日 上午9:03:01">4月11日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6271920842116956929"><div class="ds-post-self" data-post-id="6271920842116956929" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="PeterHung"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">PeterHung</span></div><p>感谢， 写得很好， 收获很多。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-10T21:36:06+08:00" title="2016年4月10日 下午9:36:06">4月10日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6272291719778140929"><div class="ds-post-self" data-post-id="6272291719778140929" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="sunny an"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">sunny an</span></div><p>多看看，才能消化，谢谢你的分享，辛苦了</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-11T21:35:18+08:00" title="2016年4月11日 下午9:35:18">4月11日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6272588986535904002"><div class="ds-post-self" data-post-id="6272588986535904002" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6272588741613716225"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6272588741613716225&#39;;" title="赵杨"><img src="./给 Android 开发者的 RxJava 详解_files/0(8)" alt="赵杨"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6272588741613716225&#39;;" rel="nofollow" target="_blank" data-user-id="6272588741613716225">赵杨</a></div><p>看了你的很多文章，真心感谢你，这个RxJava看了一下午，这里真心的感谢你，么么哒</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-12T16:48:51+08:00" title="2016年4月12日 下午4:48:51">4月12日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6273066967767188226"><div class="ds-post-self" data-post-id="6273066967767188226" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="7714346"><a rel="nofollow author" target="_blank" href="http://t.qq.com/fan005320" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=7714346&#39;;" title="le_baihui"><img src="./给 Android 开发者的 RxJava 详解_files/50(10)" alt="le_baihui"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/fan005320" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=7714346&#39;;" rel="nofollow" target="_blank" data-user-id="7714346">le_baihui</a></div><p>Android异步 －－》RxJava</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-13T23:43:39+08:00" title="2016年4月13日 下午11:43:39">4月13日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6273234450142724865"><div class="ds-post-self" data-post-id="6273234450142724865" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6273172928901153537"><img src="./给 Android 开发者的 RxJava 详解_files/100(13)" alt="Lihy"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-user-id="6273172928901153537" data-qqt-account="">Lihy</span></div><p>非常好！！！</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-14T10:33:34+08:00" title="2016年4月14日 上午10:33:34">4月14日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6273329930033955586"><div class="ds-post-self" data-post-id="6273329930033955586" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="qq"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">qq</span></div><p>唉，感觉太长，理论多，看了几次，基本都没看完，看不下去，表示不会用</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-14T16:44:05+08:00" title="2016年4月14日 下午4:44:05">4月14日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6273336276460503809"><div class="ds-post-self" data-post-id="6273336276460503809" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6273336034205893377"><a rel="nofollow author" target="_blank" href="http://t.qq.com/weibowusen7780" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6273336034205893377&#39;;" title="吴森"><img src="./给 Android 开发者的 RxJava 详解_files/100(14)" alt="吴森"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/weibowusen7780" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6273336034205893377&#39;;" rel="nofollow" target="_blank" data-user-id="6273336034205893377">吴森</a></div><p>看了好几遍，每次有想不通的就回头再看一遍。<br>
不得不说，那么多相似却不通的变量名，让人很困恼。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-14T17:08:43+08:00" title="2016年4月14日 下午5:08:43">4月14日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6326756383182029569"><div class="ds-post-self" data-post-id="6326756383182029569" data-thread-id="6261340968868381441" data-root-id="6273336276460503809" data-source="duoshuo"><div class="ds-avatar" data-user-id="6322677446072075010"><img src="./给 Android 开发者的 RxJava 详解_files/100(15)" alt="TENDER"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-user-id="6322677446072075010" data-qqt-account="">TENDER</span></div><p>是啊，变量名相似容易搞混淆了</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-09-05T16:06:00+08:00" title="2016年9月5日 下午4:06:00">9月5日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6273346100984283905"><div class="ds-post-self" data-post-id="6273346100984283905" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="这个的话"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">这个的话</span></div><p>map() 不同的是， flatMap() 中返回的是个 Observable 对象，并且这个 Observable 对象并不是被直接发送到了 Subscriber 的回调方法中。        难道map返回的不是Observable 对象？还是说map返回的Observable对象是原来的那个？<br>
<br>
flatMap() 的原理是这样的：1. 使用传入的事件对象创建一个 Observable 对象；2. 并不发送这个 Observable, 而是将它激活，于是它开始发送事件；    直接激活？它发送的事件是哪个Subscriber接收呢？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-14T17:46:50+08:00" title="2016年4月14日 下午5:46:50">4月14日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6274067167440798465"><div class="ds-post-self" data-post-id="6274067167440798465" data-thread-id="6261340968868381441" data-root-id="6273346100984283905" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="向阳的花"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">向阳的花</span></div><p>这个的区别在于  call 方法的返回，而不是 map() 和 flatMap()的返回值。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-16T16:24:56+08:00" title="2016年4月16日 下午4:24:56">4月16日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6298118669121618689"><div class="ds-post-self" data-post-id="6298118669121618689" data-thread-id="6261340968868381441" data-root-id="6273346100984283905" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="applixy"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">applixy</span></div><p>flatMap返回的是一个“可以多次调用订阅者的onNext()方法的Observable”，比如from方法产生的Observable，这种Observable跟一般的Observable不同，这种Observable在它的内部会调用一个循环，通过循环多次调用onNext()方法，而map是无法实现这种循环的效果的。<br>
当然你也不利用flatMap产生的Observable的循环特性，博主在结合Retrofit中举的flatMap的例子就没用到循环，只是通过一对token和userId获取了一个User对象</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-20T11:57:03+08:00" title="2016年6月20日 上午11:57:03">6月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(1)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6311812067405857537"><div class="ds-post-self" data-post-id="6311812067405857537" data-thread-id="6261340968868381441" data-root-id="6273346100984283905" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>理解RxJava API的一个关键是明白API需要Observable的Case是异步使用场景，而返回普通对象类型的是同步使用场景， 比如flatmap与map, buffer中的多个重载。 详细示例参考<a href="https://github.com/leeowenowen/rxjava-examples" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:34:26+08:00" title="2016年7月27日 上午9:34:26">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6273363046110855938"><div class="ds-post-self" data-post-id="6273363046110855938" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6273363001647039233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6273363001647039233&#39;;" title="JoEy LyU"><img src="./给 Android 开发者的 RxJava 详解_files/0(9)" alt="JoEy LyU"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6273363001647039233&#39;;" rel="nofollow" target="_blank" data-user-id="6273363001647039233">JoEy LyU</a></div><p>getUser(userId)<br>
    .doOnNext(new Action1&lt;User&gt;() {<br>
        @Override<br>
        public void call(User user) {<br>
            processUser(user);<br>
        })<br>
    .observeOn(AndroidSchedulers.mainThread())<br>
    .subscribe(new Observer&lt;User&gt;() {<br>
        @Override<br>
        public void onNext(User user) {<br>
            userView.setUser(user);<br>
        }<br>
<br>
        @Override<br>
        public void onCompleted() {<br>
        }<br>
<br>
        @Override<br>
        public void onError(Throwable error) {<br>
            // Error handling<br>
            ...<br>
        }<br>
    });<br>
<br>
---------------<br>
<br>
这段代码，如何保证processUser(user);是在后台线程，而不是mainThread线程执行的呢？谢谢～</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-14T18:52:35+08:00" title="2016年4月14日 下午6:52:35">4月14日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6273377875831816962"><div class="ds-post-self" data-post-id="6273377875831816962" data-thread-id="6261340968868381441" data-root-id="6273363046110855938" data-source="duoshuo"><div class="ds-avatar" data-user-id="6273336034205893377"><a rel="nofollow author" target="_blank" href="http://t.qq.com/weibowusen7780" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6273336034205893377&#39;;" title="吴森"><img src="./给 Android 开发者的 RxJava 详解_files/100(14)" alt="吴森"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/weibowusen7780" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6273336034205893377&#39;;" rel="nofollow" target="_blank" data-user-id="6273336034205893377">吴森</a></div><p>好像 getUser(userId).doOnNext（。。。） 是Retrofit 这个里的用法，所以直接看不出来那一步是后台线程。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-14T19:50:08+08:00" title="2016年4月14日 下午7:50:08">4月14日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6298963154533614337"><div class="ds-post-self" data-post-id="6298963154533614337" data-thread-id="6261340968868381441" data-root-id="6273363046110855938" data-source="duoshuo"><div class="ds-avatar" data-user-id="10646270"><a rel="nofollow author" target="_blank" href="http://t.qq.com/parcool2010" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=10646270&#39;;" title="谭毅"><img src="./给 Android 开发者的 RxJava 详解_files/50(11)" alt="谭毅"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/parcool2010" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=10646270&#39;;" rel="nofollow" target="_blank" data-user-id="10646270">谭毅</a></div><p>很明显不是Retrofit里的方法。。。估计是博主少写了一个subscribeOn(Schedulers.io())或者没讲到的方法。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-22T18:34:05+08:00" title="2016年6月22日 下午6:34:05">6月22日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li></ul></li><li class="ds-post" data-post-id="6273392932330406658"><div class="ds-post-self" data-post-id="6273392932330406658" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6273392854832251650"><a rel="nofollow author" target="_blank" href="http://weibo.com/ijust" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6273392854832251650&#39;;" title="NashLegend"><img src="./给 Android 开发者的 RxJava 详解_files/1(6)" alt="NashLegend"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/ijust" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6273392854832251650&#39;;" rel="nofollow" target="_blank" data-user-id="6273392854832251650">NashLegend</a></div><p>获取图片的例子中，如果其中一个获取失败了，怎么知道是哪个失败了呢</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-14T20:48:34+08:00" title="2016年4月14日 下午8:48:34">4月14日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6298963387028079361"><div class="ds-post-self" data-post-id="6298963387028079361" data-thread-id="6261340968868381441" data-root-id="6273392932330406658" data-source="duoshuo"><div class="ds-avatar" data-user-id="10646270"><a rel="nofollow author" target="_blank" href="http://t.qq.com/parcool2010" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=10646270&#39;;" title="谭毅"><img src="./给 Android 开发者的 RxJava 详解_files/50(11)" alt="谭毅"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/parcool2010" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=10646270&#39;;" rel="nofollow" target="_blank" data-user-id="10646270">谭毅</a></div><p>onError里估计能看到吧？博主没讲。。。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-22T18:34:59+08:00" title="2016年6月22日 下午6:34:59">6月22日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6299322942589240065"><div class="ds-post-self" data-post-id="6299322942589240065" data-thread-id="6261340968868381441" data-root-id="6273392932330406658" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="别说话"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">别说话</span></div><p>onError方法里，只有throwable一个参数，没办法看出是哪个出错。我的想法是可以通过调用count这个方法来，这个方法是在事件都发送完了才会发送新的事件，这个事件发送的是一个int值，告诉你到底发送了几个事件。根据这个int可以从图片列表中获取。但是还有个问题是如果你用了filter的话，可能就会出错。因为filter会过滤掉，其实并不是获取失败出错，所以最后你获取的count可能是错的索引。当然，如果你不用的话，那是没关系的</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-23T17:50:15+08:00" title="2016年6月23日 下午5:50:15">6月23日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6313794920595325697"><div class="ds-post-self" data-post-id="6313794920595325697" data-thread-id="6261340968868381441" data-root-id="6273392932330406658" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="test"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">test</span></div><p>貌似通过lift可以判断是哪个失败了</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-08-01T17:48:55+08:00" title="2016年8月1日 下午5:48:55">8月1日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6273615707930362625"><div class="ds-post-self" data-post-id="6273615707930362625" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6273615398877266689"><a rel="nofollow author" target="_blank" href="http://weibo.com/2705681305" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6273615398877266689&#39;;" title="狂影2000"><img src="./给 Android 开发者的 RxJava 详解_files/1(7)" alt="狂影2000"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2705681305" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6273615398877266689&#39;;" rel="nofollow" target="_blank" data-user-id="6273615398877266689">狂影2000</a></div><p>看了好几天，终于吃透了，博主棒棒哒</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-15T11:13:03+08:00" title="2016年4月15日 上午11:13:03">4月15日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6273688317821190914"><div class="ds-post-self" data-post-id="6273688317821190914" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="10866115"><a rel="nofollow author" target="_blank" href="http://weibo.com/3123268127" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=10866115&#39;;" title="先生的后花园"><img src="./给 Android 开发者的 RxJava 详解_files/1(8)" alt="先生的后花园"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/3123268127" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=10866115&#39;;" rel="nofollow" target="_blank" data-user-id="10866115">先生的后花园</a></div><p>写的真好。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-15T15:54:49+08:00" title="2016年4月15日 下午3:54:49">4月15日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6273702227739689730"><div class="ds-post-self" data-post-id="6273702227739689730" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="我不是李bb"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">我不是李bb</span></div><p>setOnlickListener 并不是观察者模式. 观察者模式是 一对多<br>
应该是代理模式</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-15T16:48:47+08:00" title="2016年4月15日 下午4:48:47">4月15日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6274448767827575553"><div class="ds-post-self" data-post-id="6274448767827575553" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="petyr.zhan"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">petyr.zhan</span></div><p>1.从最根本上来说，它解决了回调地狱，让代码更清晰。<br>
2.从本质上来说就是处理了回调地狱，其他都是扩展，初期使用容易被各种难用的订阅、被订阅等命名搞混，好东西硬生生被提供了入门门槛。<br>
3.以线性的方式来执行过程中的每个步骤，同时让每个步骤可以自由的在线程间切换。<br>
4.它不是万能的，别他妈什么地方都用，会扑街的。对线性执行的逻辑处理挺不错，但遇到非线性，比如状态机类型，感觉就要GG了。<br>
<br>
刚学习，还没应用，这是目前的感悟。顺便问个问题，假设某个步骤中需要调用一个异步的方法，并且要等到这个方法回调执行之后才能继续，该怎么处理？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-17T17:05:45+08:00" title="2016年4月17日 下午5:05:45">4月17日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(1)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6274784584081081090"><div class="ds-post-self" data-post-id="6274784584081081090" data-thread-id="6261340968868381441" data-root-id="6274448767827575553" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="petyr.zhan"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">petyr.zhan</span></div><p>第四点言语粗暴了写，不好意思，因为是学习的时候自己笔记的内容，没考虑那么多，发评论的时候复制过来就忘了调整。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-18T14:48:53+08:00" title="2016年4月18日 下午2:48:53">4月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6298963946812474113"><div class="ds-post-self" data-post-id="6298963946812474113" data-thread-id="6261340968868381441" data-root-id="6274448767827575553" data-source="duoshuo"><div class="ds-avatar" data-user-id="10646270"><a rel="nofollow author" target="_blank" href="http://t.qq.com/parcool2010" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=10646270&#39;;" title="谭毅"><img src="./给 Android 开发者的 RxJava 详解_files/50(11)" alt="谭毅"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/parcool2010" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=10646270&#39;;" rel="nofollow" target="_blank" data-user-id="10646270">谭毅</a></div><p>你最后的问题本来就在文中解释了啊，不过如何设置超时这些我也想知道 <img src="./给 Android 开发者的 RxJava 详解_files/kl_org.gif" alt="[可怜]" title="[可怜]" class="ds-smiley"> </p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-22T18:37:10+08:00" title="2016年6月22日 下午6:37:10">6月22日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6311812691870614273"><div class="ds-post-self" data-post-id="6311812691870614273" data-thread-id="6261340968868381441" data-root-id="6274448767827575553" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>RX API对操作都提供了异步和同步版本，比如map操作同步使用时就用map,异步使用时就用flatmap,详细示例可参考<a href="https://github.com/leeowenowen/rxjava-examples" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:36:51+08:00" title="2016年7月27日 上午9:36:51">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6274708833591886594"><div class="ds-post-self" data-post-id="6274708833591886594" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6274708431622374145"><a rel="nofollow author" target="_blank" href="http://t.qq.com/vipkevin886" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6274708431622374145&#39;;" title="王永宜"><img src="./给 Android 开发者的 RxJava 详解_files/50(12)" alt="王永宜"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/vipkevin886" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6274708431622374145&#39;;" rel="nofollow" target="_blank" data-user-id="6274708431622374145">王永宜</a></div><p>收藏</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-18T09:54:56+08:00" title="2016年4月18日 上午9:54:56">4月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6274828026668647169"><div class="ds-post-self" data-post-id="6274828026668647169" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6225373403818230529"><a rel="nofollow author" target="_blank" href="http://t.qq.com/o666666o93" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6225373403818230529&#39;;" title="忧嘻"><img src="./给 Android 开发者的 RxJava 详解_files/50(13)" alt="忧嘻"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/o666666o93" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6225373403818230529&#39;;" rel="nofollow" target="_blank" data-user-id="6225373403818230529">忧嘻</a></div><p>写的很详细，篇幅有点长。看了一半发现有点消化不良了...保存起来明天继续。。。谢谢楼主</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-18T17:37:28+08:00" title="2016年4月18日 下午5:37:28">4月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6311812806320587522"><div class="ds-post-self" data-post-id="6311812806320587522" data-thread-id="6261340968868381441" data-root-id="6274828026668647169" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>推荐最全面最简单的rxjava示例程序<a href="https://github.com/leeowenowen/rxjava-examples" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:37:18+08:00" title="2016年7月27日 上午9:37:18">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6275461848967938817"><div class="ds-post-self" data-post-id="6275461848967938817" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6275461770366681857"><img src="./给 Android 开发者的 RxJava 详解_files/100(16)" alt="锟斤拷"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-user-id="6275461770366681857" data-qqt-account="">锟斤拷</span></div><p>请问什么是流式API</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-20T10:37:01+08:00" title="2016年4月20日 上午10:37:01">4月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6275495708124513025"><div class="ds-post-self" data-post-id="6275495708124513025" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6275495674691715841"><a rel="nofollow author" target="_blank" href="http://weibo.com/chiebaba" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6275495674691715841&#39;;" title="草帽_kaka"><img src="./给 Android 开发者的 RxJava 详解_files/1(9)" alt="草帽_kaka"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/chiebaba" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6275495674691715841&#39;;" rel="nofollow" target="_blank" data-user-id="6275495674691715841">草帽_kaka</a></div><p>正好入门RxAndroid看到了楼主的文章。<br>
把这么复杂的逻辑讲的这么清晰。太佩服了。<br>
谢谢楼主！</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-20T12:48:24+08:00" title="2016年4月20日 下午12:48:24">4月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6275836333839614721"><div class="ds-post-self" data-post-id="6275836333839614721" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6275836212053803778"><a rel="nofollow author" target="_blank" href="http://t.qq.com/panshen001" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6275836212053803778&#39;;" title="方子君"><img src="./给 Android 开发者的 RxJava 详解_files/50(14)" alt="方子君"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/panshen001" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6275836212053803778&#39;;" rel="nofollow" target="_blank" data-user-id="6275836212053803778">方子君</a></div><p>Retrofit和RxJava结合使用中，doOnNext前为啥不用observeOn(Schedulers.newThread())限定一下线程呢，难道又是什么默认。。。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-21T10:50:13+08:00" title="2016年4月21日 上午10:50:13">4月21日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(1)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6275931227002241793"><div class="ds-post-self" data-post-id="6275931227002241793" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6233236862299800321"><a rel="nofollow author" target="_blank" href="http://weibo.com/5744492117" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6233236862299800321&#39;;" title="桑桑喵喵i"><img src="./给 Android 开发者的 RxJava 详解_files/1(10)" alt="桑桑喵喵i"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/5744492117" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6233236862299800321&#39;;" rel="nofollow" target="_blank" data-user-id="6233236862299800321">桑桑喵喵i</a></div><p>解决思路和Promise很像</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-21T16:58:27+08:00" title="2016年4月21日 下午4:58:27">4月21日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6275932434261345026"><div class="ds-post-self" data-post-id="6275932434261345026" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="1763058"><a rel="nofollow author" target="_blank" href="http://weibo.com/2129834090" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1763058&#39;;" title="白书黑影"><img src="./给 Android 开发者的 RxJava 详解_files/1(11)" alt="白书黑影"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2129834090" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1763058&#39;;" rel="nofollow" target="_blank" data-user-id="1763058">白书黑影</a></div><p>看明白了！</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-21T17:03:08+08:00" title="2016年4月21日 下午5:03:08">4月21日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6276354044399190785"><div class="ds-post-self" data-post-id="6276354044399190785" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6259553085484434178"><a rel="nofollow author" target="_blank" href="http://weibo.com/5270980727" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6259553085484434178&#39;;" title="落枕的歪脖子"><img src="./给 Android 开发者的 RxJava 详解_files/005KIuSbjw8f6iu9yrnwvj30ro0ro40e.jpg" alt="落枕的歪脖子"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/5270980727" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6259553085484434178&#39;;" rel="nofollow" target="_blank" data-user-id="6259553085484434178">落枕的歪脖子</a></div><p>最近在学Retrofit+RxJava异步处理网络请求，看了一些别人的项目，总有点迷糊。整篇文字看完，之前的迷惑解决了不少，但是lift那块还是没看懂，要多看几遍了。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-22T20:19:11+08:00" title="2016年4月22日 下午8:19:11">4月22日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6311813305908331266"><div class="ds-post-self" data-post-id="6311813305908331266" data-thread-id="6261340968868381441" data-root-id="6276354044399190785" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>lift就是操作符转换，使用的是适配器模式，将一个observable通过lift适配到另一个Observable,详细示例参考<a href="https://github.com/leeowenowen/rxjava-examples%E5%8F%8A%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90https://github.com/leeowenowen/rxjava-examples/wiki/CodeAnalyse" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples及源码分析https://github.com/leeowenowen/rxjava-examples/wiki/CodeAnalyse</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:39:14+08:00" title="2016年7月27日 上午9:39:14">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6311817450463691521"><div class="ds-post-self" data-post-id="6311817450463691521" data-thread-id="6261340968868381441" data-root-id="6276354044399190785" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>不应当说是适配器模式，应当是装饰者模式，lift返回的Observable与输入Observable具有相同的对外使用接口，但参数类型不同，返回的新的Observable会在把请求转发给其内部包裹的Observable之间做一些操作。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:55:19+08:00" title="2016年7月27日 上午9:55:19">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li></ul></li><li class="ds-post" data-post-id="6276639323781595905"><div class="ds-post-self" data-post-id="6276639323781595905" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6276638765993689857"><a rel="nofollow author" target="_blank" href="http://t.qq.com/songjiangchao213" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6276638765993689857&#39;;" title="宋某人"><img src="./给 Android 开发者的 RxJava 详解_files/100(17)" alt="宋某人"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/songjiangchao213" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6276638765993689857&#39;;" rel="nofollow" target="_blank" data-user-id="6276638765993689857">宋某人</a></div><p>好文章可以赚钱了啊，哈哈！</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-23T14:46:13+08:00" title="2016年4月23日 下午2:46:13">4月23日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6276727404274647810"><div class="ds-post-self" data-post-id="6276727404274647810" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6276725420217860865"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6276725420217860865&#39;;" title="仗剑走天涯"><img src="./给 Android 开发者的 RxJava 详解_files/0(10)" alt="仗剑走天涯"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6276725420217860865&#39;;" rel="nofollow" target="_blank" data-user-id="6276725420217860865">仗剑走天涯</a></div><p>有一个地方有点疑问，想请教一下。“subscribeOn(): 指定 subscribe() 所发生的线程，即 Observable.OnSubscribe 被激活时所处的线程。或者叫做事件产生的线程。”个人感觉 subscribeOn（）中的subscribe确切的指代含义不是subscribe（Subscriber）方法调用，而是Observable.OnSubscribe中的call（），是不是在这样呢，望大神赐教。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-23T20:28:01+08:00" title="2016年4月23日 下午8:28:01">4月23日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6278137663539118849"><div class="ds-post-self" data-post-id="6278137663539118849" data-thread-id="6261340968868381441" data-root-id="6276727404274647810" data-source="duoshuo"><div class="ds-avatar" data-user-id="6278137053297246977"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6278137053297246977&#39;;" title="宋培岩"><img src="./给 Android 开发者的 RxJava 详解_files/0(11)" alt="宋培岩"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6278137053297246977&#39;;" rel="nofollow" target="_blank" data-user-id="6278137053297246977">宋培岩</a></div><p>subscribeOn指定的线程，其实就是说call方法执行时的线程。你说的没错。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-27T15:40:33+08:00" title="2016年4月27日 下午3:40:33">4月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(1)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6280288825126159106"><div class="ds-post-self" data-post-id="6280288825126159106" data-thread-id="6261340968868381441" data-root-id="6276727404274647810" data-source="duoshuo"><div class="ds-avatar" data-user-id="6276725420217860865"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6276725420217860865&#39;;" title="仗剑走天涯"><img src="./给 Android 开发者的 RxJava 详解_files/0(10)" alt="仗剑走天涯"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6276725420217860865&#39;;" rel="nofollow" target="_blank" data-user-id="6276725420217860865">仗剑走天涯</a></div><p>感谢哈，希望以后能多向大神学习！</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-03T10:48:09+08:00" title="2016年5月3日 上午10:48:09">5月3日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li></ul></li><li class="ds-post" data-post-id="6277439427769795330"><div class="ds-post-self" data-post-id="6277439427769795330" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="哈哈"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">哈哈</span></div><p>牛，我看了一下午啊！！！还得再看看！！谢谢分享</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-25T18:31:02+08:00" title="2016年4月25日 下午6:31:02">4月25日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6277685127405372161"><div class="ds-post-self" data-post-id="6277685127405372161" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6277684655810413313"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6277684655810413313&#39;;" title="没心没肺的笑"><img src="./给 Android 开发者的 RxJava 详解_files/0(12)" alt="没心没肺的笑"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6277684655810413313&#39;;" rel="nofollow" target="_blank" data-user-id="6277684655810413313">没心没肺的笑</a></div><p>写的真好，很清楚，长知识了，谢谢。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-26T10:24:28+08:00" title="2016年4月26日 上午10:24:28">4月26日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6277694496285131521"><div class="ds-post-self" data-post-id="6277694496285131521" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="孙晓宇"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">孙晓宇</span></div><p>看完后感觉不错，但是有点点疑问，RxJava用的时候就是不停的new，这么频繁的new，对于那些对内存要求特变高的程序会不会有限制？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-26T11:00:50+08:00" title="2016年4月26日 上午11:00:50">4月26日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(1)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6278139099488453377"><div class="ds-post-self" data-post-id="6278139099488453377" data-thread-id="6261340968868381441" data-root-id="6277694496285131521" data-source="duoshuo"><div class="ds-avatar" data-user-id="6278137053297246977"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6278137053297246977&#39;;" title="宋培岩"><img src="./给 Android 开发者的 RxJava 详解_files/0(11)" alt="宋培岩"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6278137053297246977&#39;;" rel="nofollow" target="_blank" data-user-id="6278137053297246977">宋培岩</a></div><p>new Observable和Observer等对象其实占不了多少内存，所以应该还好。不过，需要注意的是，这种观察者模式需要注意unsubscribe，否则一直引用着，导致不用的对象也被持有。确实会造成内存泄露。作者文中也提醒过。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-27T15:46:07+08:00" title="2016年4月27日 下午3:46:07">4月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6278427765540651778"><div class="ds-post-self" data-post-id="6278427765540651778" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="张"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">张</span></div><p>很有用！虽然现在还有一部分看不懂，总之先收藏了。谢谢作者</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-28T10:26:17+08:00" title="2016年4月28日 上午10:26:17">4月28日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6278544043974591233"><div class="ds-post-self" data-post-id="6278544043974591233" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="11272602"><a rel="nofollow author" target="_blank" href="http://weibo.com/2663228541" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11272602&#39;;" title="geniusmart"><img src="./给 Android 开发者的 RxJava 详解_files/1(12)" alt="geniusmart"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2663228541" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11272602&#39;;" rel="nofollow" target="_blank" data-user-id="11272602">geniusmart</a></div><p>终于看完了，老佩服这种深入浅出，大道至简的写法了</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-28T17:57:30+08:00" title="2016年4月28日 下午5:57:30">4月28日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(1)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6278862097346462466"><div class="ds-post-self" data-post-id="6278862097346462466" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6278861726909727490"><a rel="nofollow author" target="_blank" href="http://t.qq.com/zhanxuzhao" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6278861726909727490&#39;;" title="詹徐照"><img src="./给 Android 开发者的 RxJava 详解_files/50(15)" alt="詹徐照"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/zhanxuzhao" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6278861726909727490&#39;;" rel="nofollow" target="_blank" data-user-id="6278861726909727490">詹徐照</a></div><p>赞！</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-04-29T14:31:43+08:00" title="2016年4月29日 下午2:31:43">4月29日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6280098375341703938"><div class="ds-post-self" data-post-id="6280098375341703938" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="13771787"><a rel="nofollow author" target="_blank" href="http://weibo.com/2112920937" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13771787&#39;;" title="酷比程序员一条"><img src="./给 Android 开发者的 RxJava 详解_files/1(13)" alt="酷比程序员一条"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2112920937" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13771787&#39;;" rel="nofollow" target="_blank" data-user-id="13771787">酷比程序员一条</a></div><p>赞~</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-02T22:29:06+08:00" title="2016年5月2日 下午10:29:06">5月2日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6281567272364409602"><div class="ds-post-self" data-post-id="6281567272364409602" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6281564957171516162"><a rel="nofollow author" target="_blank" href="http://weibo.com/1825236667" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6281564957171516162&#39;;" title="梦想拒绝零风险"><img src="./给 Android 开发者的 RxJava 详解_files/6ccae6bbjw8et581myxluj20e70e8mxr.jpg" alt="梦想拒绝零风险"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/1825236667" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6281564957171516162&#39;;" rel="nofollow" target="_blank" data-user-id="6281564957171516162">梦想拒绝零风险</a></div><p>作者写的很棒，通俗易懂。不过我觉得如果把onClick和onSubscribe（虽然onSubscribe是事件序列的包装类）类比而不是onNext等等更容易理解，和OnClickListener不同的是，Rxjava在订阅的同时也是触发事件的时候，而OnClickListener的订阅和事件触发是分开的。另外flatmap翻译成面映射更好（铺平不好理解）。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-06T21:29:11+08:00" title="2016年5月6日 下午9:29:11">5月6日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6283342235266188034"><div class="ds-post-self" data-post-id="6283342235266188034" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="11039178"><a rel="nofollow author" target="_blank" href="http://weibo.com/2174008613" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11039178&#39;;" title="Macya"><img src="./给 Android 开发者的 RxJava 详解_files/178030.jpg" alt="Macya"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2174008613" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11039178&#39;;" rel="nofollow" target="_blank" data-user-id="11039178">Macya</a></div><p>稍微看了下源码，有点不明白的地方：map()和flatMap()方法都调用了lift()，那这样一来，无论需要传入的参数是写Func1&lt;String, Integer&gt;，还是写Func1&lt;String, Observable&lt;Integer&gt;&gt;，最后不都是返回一个Obserable对象吗</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-11T16:16:56+08:00" title="2016年5月11日 下午4:16:56">5月11日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6311814218882482945"><div class="ds-post-self" data-post-id="6311814218882482945" data-thread-id="6261340968868381441" data-root-id="6283342235266188034" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>lift操作是将一个observable转换成另一个observable, 但是observable参数是不同的，当参数中有observable时，代表该参数对应的对象是要执行异步操作的。详细示例可参考<a href="https://github.com/leeowenowen/rxjava-examples" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:42:47+08:00" title="2016年7月27日 上午9:42:47">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6283459221631533826"><div class="ds-post-self" data-post-id="6283459221631533826" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="11039178"><a rel="nofollow author" target="_blank" href="http://weibo.com/2174008613" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11039178&#39;;" title="Macya"><img src="./给 Android 开发者的 RxJava 详解_files/178030.jpg" alt="Macya"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2174008613" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=11039178&#39;;" rel="nofollow" target="_blank" data-user-id="11039178">Macya</a></div><p>作者能具体讲讲flatMap()返回的Observable对象跟flatMap()里call()返回的Observable对象是如何协同工作的吗</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-11T23:50:54+08:00" title="2016年5月11日 下午11:50:54">5月11日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6311815279638741761"><div class="ds-post-self" data-post-id="6311815279638741761" data-thread-id="6261340968868381441" data-root-id="6283459221631533826" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>flatmap返回observable对应的的是整个操作， call里的observable对应的则是flatmap中要针对每一个元素要执行的异步操作， 比如你对于一个10个文件，都要异步读取上传，这个时候最外层返回的Observable是可以发射10个文件的上传结果，而call里的则只会发射某个文件上传结果。详细示例参考<a href="https://github.com/leeowenowen/rxjava-examples" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:46:54+08:00" title="2016年7月27日 上午9:46:54">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6284008472866456321"><div class="ds-post-self" data-post-id="6284008472866456321" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6284008426049635073"><a rel="nofollow author" target="_blank" href="http://t.qq.com/nianfen2011" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6284008426049635073&#39;;" title="一叶知秋"><img src="./给 Android 开发者的 RxJava 详解_files/50(16)" alt="一叶知秋"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/nianfen2011" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6284008426049635073&#39;;" rel="nofollow" target="_blank" data-user-id="6284008426049635073">一叶知秋</a></div><p>楼主 有具体跟博文配合的样例么？ 我这刚接触rxJava 简单的例子都写不了。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-13T11:22:17+08:00" title="2016年5月13日 上午11:22:17">5月13日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6311815352816780034"><div class="ds-post-self" data-post-id="6311815352816780034" data-thread-id="6261340968868381441" data-root-id="6284008472866456321" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>RXJava最全面示例<a href="https://github.com/leeowenowen/rxjava-examples" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:47:11+08:00" title="2016年7月27日 上午9:47:11">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6285550840937710337"><div class="ds-post-self" data-post-id="6285550840937710337" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="13852760"><a rel="nofollow author" target="_blank" href="http://t.qq.com/jy03236862" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13852760&#39;;" title="陈峥"><img src="./给 Android 开发者的 RxJava 详解_files/50(17)" alt="陈峥"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/jy03236862" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13852760&#39;;" rel="nofollow" target="_blank" data-user-id="13852760">陈峥</a></div><p>这篇文章是我见到除了官方文档 最通熟易懂的文章了 对于我这种刚开始学习Rxjava的人来说 受益匪浅 棒棒棒~</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-17T15:07:28+08:00" title="2016年5月17日 下午3:07:28">5月17日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6285554781754753794"><div class="ds-post-self" data-post-id="6285554781754753794" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6227395726150730498"><a rel="nofollow author" target="_blank" href="http://t.qq.com/watermelonxg7" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6227395726150730498&#39;;" title="周太郎"><img src="./给 Android 开发者的 RxJava 详解_files/50(18)" alt="周太郎"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/watermelonxg7" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6227395726150730498&#39;;" rel="nofollow" target="_blank" data-user-id="6227395726150730498">周太郎</a></div><p>写的很好，但是缺乏实战的小demo，但还是表示深深的崇拜</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-17T15:22:45+08:00" title="2016年5月17日 下午3:22:45">5月17日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6311815437814334210"><div class="ds-post-self" data-post-id="6311815437814334210" data-thread-id="6261340968868381441" data-root-id="6285554781754753794" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>推荐示例程序<a href="https://github.com/leeowenowen/rxjava-examples" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:47:31+08:00" title="2016年7月27日 上午9:47:31">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6285835909778637570"><div class="ds-post-self" data-post-id="6285835909778637570" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="9190102"><a rel="nofollow author" target="_blank" href="http://weibo.com/2667323921" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=9190102&#39;;" title="小咖啡漂亮的小白"><img src="./给 Android 开发者的 RxJava 详解_files/1(14)" alt="小咖啡漂亮的小白"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2667323921" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=9190102&#39;;" rel="nofollow" target="_blank" data-user-id="9190102">小咖啡漂亮的小白</a></div><p>楼主，根据错误码展示不一样的错误信息，这种情况如何处理呢</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-18T09:33:40+08:00" title="2016年5月18日 上午9:33:40">5月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6285956927058871041"><div class="ds-post-self" data-post-id="6285956927058871041" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6225373403818230529"><a rel="nofollow author" target="_blank" href="http://t.qq.com/o666666o93" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6225373403818230529&#39;;" title="忧嘻"><img src="./给 Android 开发者的 RxJava 详解_files/50(13)" alt="忧嘻"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/o666666o93" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6225373403818230529&#39;;" rel="nofollow" target="_blank" data-user-id="6225373403818230529">忧嘻</a></div><p>官方的GitHub上只提示添加依赖compile 'io.reactivex:rxjava:x.y.z'，结果还出错。加了compile 'io.reactivex:rxandroid:1.0.1'就可以了，这是为什么</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-18T17:23:17+08:00" title="2016年5月18日 下午5:23:17">5月18日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6299344618483876609"><div class="ds-post-self" data-post-id="6299344618483876609" data-thread-id="6261340968868381441" data-root-id="6285956927058871041" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="别说话"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">别说话</span></div><p> <img src="./给 Android 开发者的 RxJava 详解_files/sb_org.gif" alt="[生病]" title="[生病]" class="ds-smiley"> 多学习下gradle吧，你版本号都没指定啊。官方的那个上面给的那个是模板，xyz是数字，需要你自己填的。。。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-23T19:14:22+08:00" title="2016年6月23日 下午7:14:22">6月23日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6311843035684537090"><div class="ds-post-self" data-post-id="6311843035684537090" data-thread-id="6261340968868381441" data-root-id="6285956927058871041" data-source="duoshuo"><div class="ds-avatar" data-user-id="6225373403818230529"><a rel="nofollow author" target="_blank" href="http://t.qq.com/o666666o93" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6225373403818230529&#39;;" title="忧嘻"><img src="./给 Android 开发者的 RxJava 详解_files/50(13)" alt="忧嘻"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/o666666o93" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6225373403818230529&#39;;" rel="nofollow" target="_blank" data-user-id="6225373403818230529">忧嘻</a></div><p>--</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T11:34:36+08:00" title="2016年7月27日 上午11:34:36">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li></ul></li><li class="ds-post" data-post-id="6286651246031946498"><div class="ds-post-self" data-post-id="6286651246031946498" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6241005958923813633"><a rel="nofollow author" target="_blank" href="http://t.qq.com/langjingyu1989" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6241005958923813633&#39;;" title="郎靖宇"><img src="./给 Android 开发者的 RxJava 详解_files/100(18)" alt="郎靖宇"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/langjingyu1989" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6241005958923813633&#39;;" rel="nofollow" target="_blank" data-user-id="6241005958923813633">郎靖宇</a></div><p>解释lift原理那里茅塞顿开  膜拜大神</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-20T14:17:36+08:00" title="2016年5月20日 下午2:17:36">5月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6286794505718858497"><div class="ds-post-self" data-post-id="6286794505718858497" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6286027110175736578"><a rel="nofollow author" target="_blank" href="http://weibo.com/2256632682" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6286027110175736578&#39;;" title="国鹏-L"><img src="./给 Android 开发者的 RxJava 详解_files/86817b6ajw8errjg110ivj20c80c8755.jpg" alt="国鹏-L"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2256632682" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6286027110175736578&#39;;" rel="nofollow" target="_blank" data-user-id="6286027110175736578">国鹏-L</a></div><p>RxJava</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-20T23:33:31+08:00" title="2016年5月20日 下午11:33:31">5月20日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6287066445582959362"><div class="ds-post-self" data-post-id="6287066445582959362" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6287066127914763009"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6287066127914763009&#39;;" title="小泊."><img src="./给 Android 开发者的 RxJava 详解_files/0(13)" alt="小泊."></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6287066127914763009&#39;;" rel="nofollow" target="_blank" data-user-id="6287066127914763009">小泊.</a></div><p>正着手开始学RxJava，谢谢楼主。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-21T17:08:47+08:00" title="2016年5月21日 下午5:08:47">5月21日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6287537569483719425"><div class="ds-post-self" data-post-id="6287537569483719425" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6287537535916704513"><a rel="nofollow author" target="_blank" href="http://weibo.com/yebayiren" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6287537535916704513&#39;;" title="老揚大爺巴"><img src="./给 Android 开发者的 RxJava 详解_files/60c45c96jw1e8qgp5bmzyj2050050aa8.jpg" alt="老揚大爺巴"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/yebayiren" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6287537535916704513&#39;;" rel="nofollow" target="_blank" data-user-id="6287537535916704513">老揚大爺巴</a></div><p>楼主请问如果我在一个 Activity 用 Retrofit 开始了一个请求 然后 Observable.subscribe(this) this 指的是这个 Activity, 那么有什么办法利用 Activity 的生命周期方法来进行 unsubscribe 吗</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-22T23:36:59+08:00" title="2016年5月22日 下午11:36:59">5月22日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6287861240937054978"><div class="ds-post-self" data-post-id="6287861240937054978" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6287860803529868034"><img src="./给 Android 开发者的 RxJava 详解_files/100(19)" alt="平方X"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-user-id="6287860803529868034" data-qqt-account="">平方X</span></div><p>平方X路过，已收藏，粗略看了遍，有时间还会再看一遍的。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-23T20:32:59+08:00" title="2016年5月23日 下午8:32:59">5月23日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6288157529629262594"><div class="ds-post-self" data-post-id="6288157529629262594" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6288157356526142210"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6288157356526142210&#39;;" title="brycen"><img src="./给 Android 开发者的 RxJava 详解_files/0(14)" alt="brycen"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6288157356526142210&#39;;" rel="nofollow" target="_blank" data-user-id="6288157356526142210">brycen</a></div><p>good</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-24T15:42:45+08:00" title="2016年5月24日 下午3:42:45">5月24日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6288158331961869057"><div class="ds-post-self" data-post-id="6288158331961869057" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6288157356526142210"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6288157356526142210&#39;;" title="brycen"><img src="./给 Android 开发者的 RxJava 详解_files/0(14)" alt="brycen"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6288157356526142210&#39;;" rel="nofollow" target="_blank" data-user-id="6288157356526142210">brycen</a></div><p>赞~</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-24T15:45:51+08:00" title="2016年5月24日 下午3:45:51">5月24日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6288453746624037634"><div class="ds-post-self" data-post-id="6288453746624037634" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="silence"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">silence</span></div><p>仔细看完源码，结合楼主的文章，我感觉lift实际就是利用装饰者模式，将原来的OnSubscribe进行了一次包装，这样子进行解释感觉会更简单易懂一些</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-25T10:52:13+08:00" title="2016年5月25日 上午10:52:13">5月25日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6290124432736256770"><div class="ds-post-self" data-post-id="6290124432736256770" data-thread-id="6261340968868381441" data-root-id="6288453746624037634" data-source="duoshuo"><div class="ds-avatar" data-user-id="6289583503424094978"><a rel="nofollow author" target="_blank" href="http://weibo.com/2112537055" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6289583503424094978&#39;;" title="Mansoul"><img src="./给 Android 开发者的 RxJava 详解_files/7deac1dfjw8ejc1bjj942j20u00u0jtv.jpg" alt="Mansoul"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2112537055" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6289583503424094978&#39;;" rel="nofollow" target="_blank" data-user-id="6289583503424094978">Mansoul</a></div><p>是的, 有时间还要去看看设计模式了,发现太有用了</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-29T22:55:20+08:00" title="2016年5月29日 下午10:55:20">5月29日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6288548681801007873"><div class="ds-post-self" data-post-id="6288548681801007873" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="3971035"><a rel="nofollow author" target="_blank" href="http://weibo.com/2431963187" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=3971035&#39;;" title="K"><img src="./给 Android 开发者的 RxJava 详解_files/100(20)" alt="K"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2431963187" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=3971035&#39;;" rel="nofollow" target="_blank" data-user-id="3971035">K</a></div><p>学习的路还很长，谢谢楼主分享。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-25T17:00:37+08:00" title="2016年5月25日 下午5:00:37">5月25日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6290072102888276738"><div class="ds-post-self" data-post-id="6290072102888276738" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6290071488997376770"><a rel="nofollow author" target="_blank" href="http://weibo.com/2131157132" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6290071488997376770&#39;;" title="Cynic_1218"><img src="./给 Android 开发者的 RxJava 详解_files/7f06e08cjw8egw3v2bkohj20500500so.jpg" alt="Cynic_1218"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2131157132" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6290071488997376770&#39;;" rel="nofollow" target="_blank" data-user-id="6290071488997376770">Cynic_1218</a></div><p>想问下博主的demo中  fragment里将Observer改成Subscriber后  第二次点击radio的时候加载不出网络数据 是什么原因</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-05-29T19:32:16+08:00" title="2016年5月29日 下午7:32:16">5月29日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6291135495720141569"><div class="ds-post-self" data-post-id="6291135495720141569" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6266196683030266626"><a rel="nofollow author" target="_blank" href="http://t.qq.com/A1579647429" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6266196683030266626&#39;;" title="哈哈"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="哈哈"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/A1579647429" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6266196683030266626&#39;;" rel="nofollow" target="_blank" data-user-id="6266196683030266626">哈哈</a></div><p>太好了，不错不错</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-01T16:18:46+08:00" title="2016年6月1日 下午4:18:46">6月1日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6291468016265724673"><div class="ds-post-self" data-post-id="6291468016265724673" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="13084220"><a rel="nofollow author" target="_blank" href="http://t.qq.com/huayu573" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13084220&#39;;" title="丧尽心"><img src="./给 Android 开发者的 RxJava 详解_files/100(21)" alt="丧尽心"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/huayu573" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13084220&#39;;" rel="nofollow" target="_blank" data-user-id="13084220">丧尽心</a></div><p>看了两个小时，突然感觉我不太适合写代码了 <img src="./给 Android 开发者的 RxJava 详解_files/sada_org.gif" alt="[泪]" title="[泪]" class="ds-smiley"> </p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-02T13:49:07+08:00" title="2016年6月2日 下午1:49:07">6月2日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6332694064407773953"><div class="ds-post-self" data-post-id="6332694064407773953" data-thread-id="6261340968868381441" data-root-id="6291468016265724673" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="无名氏"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">无名氏</span></div><p>先吃个牛欢喜压压惊</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-09-21T16:07:15+08:00" title="2016年9月21日 下午4:07:15">9月21日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6293389361400513281"><div class="ds-post-self" data-post-id="6293389361400513281" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="1517298"><a rel="nofollow author" target="_blank" href="http://t.qq.com/Elen1160113614" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1517298&#39;;" title="张文浩"><img src="./给 Android 开发者的 RxJava 详解_files/50" alt="张文浩"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/Elen1160113614" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1517298&#39;;" rel="nofollow" target="_blank" data-user-id="1517298">张文浩</a></div><p>算是整明白这个东东了  但是Rxjava还有好多内容. 谢谢你的这篇文章带我入门.<br>
我看dome有个疑问<br>
xxxxxx.subscribeOn(Schedulers.io())//事件产生的线程。指定 subscribe() 发生在 IO 线程<br>
                // doOnSubscribe() 之后有 subscribeOn() 的话，它将执行在离它最近的 subscribeOn() 所指定的线程。这里将执行在主线程中<br>
                .doOnSubscribe(new Action0() {<br>
                    @Override<br>
                    public void call() {<br>
                        Log.d("Tag1", Thread.currentThread().toString());//打印结果 Thread[main,5,main]<br>
                        if (mProgressBar != null) {<br>
                            mProgressBar.setVisibility(View.VISIBLE);//显示一个等待的ProgressBar--需要在主线程中执行<br>
                        }<br>
                    }<br>
                })<br>
                //.subscribeOn(AndroidSchedulers.mainThread())<br>
如果最近的subscribeOn方法生效  不是应该在io线程吗?为什么这里还是主线程?<br>
难道这里还是和"如果doOnSubscribe之后还有subscribeOn指定线程,那么doOnSubscribe它将执行在最近subscribeOn指定点线程中",结合我现在遇见的问题,解释就是,我当前代码subscribeOn之后的代码没有doOnSubscribe再指定线程,所以还是在主线程吗? 是这样理解吗?</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-07T18:04:55+08:00" title="2016年6月7日 下午6:04:55">6月7日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶(5)</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6293398603146724098"><div class="ds-post-self" data-post-id="6293398603146724098" data-thread-id="6261340968868381441" data-root-id="6293389361400513281" data-source="duoshuo"><div class="ds-avatar" data-user-id="1517298"><a rel="nofollow author" target="_blank" href="http://t.qq.com/Elen1160113614" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1517298&#39;;" title="张文浩"><img src="./给 Android 开发者的 RxJava 详解_files/50" alt="张文浩"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/Elen1160113614" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1517298&#39;;" rel="nofollow" target="_blank" data-user-id="1517298">张文浩</a></div><p>我测试过  是我说的那样的  谢啦</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-07T18:40:47+08:00" title="2016年6月7日 下午6:40:47">6月7日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6294870864085123842"><div class="ds-post-self" data-post-id="6294870864085123842" data-thread-id="6261340968868381441" data-root-id="6293389361400513281" data-source="duoshuo"><div class="ds-avatar" data-user-id="6294870732736299777"><a rel="nofollow author" target="_blank" href="http://t.qq.com/a840727854" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6294870732736299777&#39;;" title="杨观回"><img src="./给 Android 开发者的 RxJava 详解_files/50(19)" alt="杨观回"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/a840727854" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6294870732736299777&#39;;" rel="nofollow" target="_blank" data-user-id="6294870732736299777">杨观回</a></div><p>doOnSubscribe是往下找最近的subscribeOn，如果没有，那么当前是哪个线程就是哪个线程</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-11T17:53:54+08:00" title="2016年6月11日 下午5:53:54">6月11日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6295477870034682626"><div class="ds-post-self" data-post-id="6295477870034682626" data-thread-id="6261340968868381441" data-root-id="6293389361400513281" data-source="duoshuo"><div class="ds-avatar" data-user-id="1517298"><a rel="nofollow author" target="_blank" href="http://t.qq.com/Elen1160113614" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1517298&#39;;" title="张文浩"><img src="./给 Android 开发者的 RxJava 详解_files/50" alt="张文浩"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/Elen1160113614" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=1517298&#39;;" rel="nofollow" target="_blank" data-user-id="1517298">张文浩</a></div><p>恩,是的,谢谢了</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-13T09:09:24+08:00" title="2016年6月13日 上午9:09:24">6月13日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6311810148734075650"><div class="ds-post-self" data-post-id="6311810148734075650" data-thread-id="6261340968868381441" data-root-id="6293389361400513281" data-source="duoshuo"><div class="ds-avatar" data-user-id="6311809611112383233"><a rel="nofollow author" target="_blank" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" title="王利"><img src="./给 Android 开发者的 RxJava 详解_files/0" alt="王利"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="javascript:void(0)" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6311809611112383233&#39;;" rel="nofollow" target="_blank" data-user-id="6311809611112383233">王利</a></div><p>subscribeOn是指定你的回调所在的线程上下文（比如oncomplete),而doonsubscribe是与subscribe调用在相同的线程上下文，即一个是回调所在的线程上下文，一个是发起调用所在的线程上下文， 详细示例可参考<a href="https://github.com/leeowenowen/rxjava-examples" target="_blank" rel="nofollow">https://github.com/leeowenowen/rxjava-examples</a></p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-07-27T09:26:59+08:00" title="2016年7月27日 上午9:26:59">7月27日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6315236438992487169"><div class="ds-post-self" data-post-id="6315236438992487169" data-thread-id="6261340968868381441" data-root-id="6293389361400513281" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="孙思远"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">孙思远</span></div><p>call()方法是属于Observable的，也就是说到这一步的时候应该是是回调结果。我在上面添加了.observeOn(AndroidSchedulers.mainThread())，发现call()里面的打印会随着里面的变化而变化，但是有一点我也很疑惑，就是我定义了.subscribeOn(Schedulers.io())，但是在他的执行里面一直是主线程。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-08-05T15:02:44+08:00" title="2016年8月5日 下午3:02:44">8月5日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6315244695702209282"><div class="ds-post-self" data-post-id="6315244695702209282" data-thread-id="6261340968868381441" data-root-id="6293389361400513281" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="孙思远"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">孙思远</span></div><p>我重新写了一个demo之后验证发现如下： Observable&lt;String&gt; observable = Observable.create(new Observable.OnSubscribe&lt;String&gt;() {<br>
            @Override<br>
            public void call(Subscriber&lt;? super String&gt; subscriber) {<br>
                Log.e("info", "call Observable==" + Thread.currentThread().toString());<br>
                subscriber.onNext("Hello Word");<br>
            }<br>
        }).subscribeOn(Schedulers.io()).observeOn(Schedulers.newThread());<br>
<br>
//        observable.subscribe(subscriber);<br>
        observable.subscribe(new Action1&lt;String&gt;() {<br>
            @Override<br>
            public void call(String s) {<br>
                Log.e("info", "call " + s + "==" + Thread.currentThread().toString());<br>
            }<br>
        });<br>
打印结果是<br>
08-05 15:28:30.970 20886-31832/com.sunsy.swithchphoto E/info: call Observable==Thread[RxIoScheduler-2,5,main]<br>
08-05 15:28:30.972 20886-31831/com.sunsy.swithchphoto E/info: call Hello Word==Thread[RxNewThreadScheduler-1,5,main]<br>
所以在.subscribe(onNext)方法里通过call打印出来的是通过observeOn控制的线程。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-08-05T15:34:47+08:00" title="2016年8月5日 下午3:34:47">8月5日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li><li class="ds-post" data-post-id="6295579323793408769"><div class="ds-post-self" data-post-id="6295579323793408769" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="13197621"><a rel="nofollow author" target="_blank" href="http://weibo.com/2409750833" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13197621&#39;;" title="hiXing"><img src="./给 Android 开发者的 RxJava 详解_files/1(15)" alt="hiXing"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/2409750833" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=13197621&#39;;" rel="nofollow" target="_blank" data-user-id="13197621">hiXing</a></div><p>通俗易懂，感谢楼主，继续学习。。。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-13T15:43:06+08:00" title="2016年6月13日 下午3:43:06">6月13日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li><li class="ds-post" data-post-id="6295599687932052226"><div class="ds-post-self" data-post-id="6295599687932052226" data-thread-id="6261340968868381441" data-root-id="0" data-source="duoshuo"><div class="ds-avatar" data-user-id="6295599098061914882"><a rel="nofollow author" target="_blank" href="http://weibo.com/1784057865" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6295599098061914882&#39;;" title="fcb_jay"><img src="./给 Android 开发者的 RxJava 详解_files/6a569009jw8ez6avoohlwj20jx0hb76u.jpg" alt="fcb_jay"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/1784057865" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6295599098061914882&#39;;" rel="nofollow" target="_blank" data-user-id="6295599098061914882">fcb_jay</a></div><p>Schedulers.io()到底是哪些线程？<br>
public class Main {<br>
    public static void main(String[] args) {<br>
        Observable.just(1, 2, 3, 4)<br>
                .subscribeOn(Schedulers.io()) // 指定 subscribe() 发生在 IO 线程<br>
                .observeOn(Schedulers.newThread()) // 指定 Subscriber 的回调发生在主线程<br>
                .subscribe(new Action1&lt;Integer&gt;() {<br>
                    @Override<br>
                    public void call(Integer number) {<br>
                        System.out.println("Thread:"+Thread.currentThread().getName()+",number:"+number);<br>
                    }<br>
                });<br>
    }<br>
}<br>
为什么这段代码运行没有输出？</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-13T17:02:07+08:00" title="2016年6月13日 下午5:02:07">6月13日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6296702639916712705"><div class="ds-post-self" data-post-id="6296702639916712705" data-thread-id="6261340968868381441" data-root-id="6295599687932052226" data-source="duoshuo"><div class="ds-avatar" data-user-id="12368411"><a rel="nofollow author" target="_blank" href="http://t.qq.com/sharyuke" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=12368411&#39;;" title="sharyuke"><img src="./给 Android 开发者的 RxJava 详解_files/50(4)" alt="sharyuke"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://t.qq.com/sharyuke" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=12368411&#39;;" rel="nofollow" target="_blank" data-user-id="12368411">sharyuke</a></div><p>亲测，有输出。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-16T16:22:08+08:00" title="2016年6月16日 下午4:22:08">6月16日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6296733928921236226"><div class="ds-post-self" data-post-id="6296733928921236226" data-thread-id="6261340968868381441" data-root-id="6295599687932052226" data-source="duoshuo"><div class="ds-avatar" data-user-id="6295599098061914882"><a rel="nofollow author" target="_blank" href="http://weibo.com/1784057865" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6295599098061914882&#39;;" title="fcb_jay"><img src="./给 Android 开发者的 RxJava 详解_files/6a569009jw8ez6avoohlwj20jx0hb76u.jpg" alt="fcb_jay"></a></div><div class="ds-comment-body"><div class="ds-comment-header"><a class="ds-user-name ds-highlight" data-qqt-account="" href="http://weibo.com/1784057865" onclick="this.href=&#39;http://gank.duoshuo.com/user-url/?user_id=6295599098061914882&#39;;" rel="nofollow" target="_blank" data-user-id="6295599098061914882">fcb_jay</a></div><p>这还真是奇了怪了。我用的IDEA14，普通Java Module，运行没有输出。</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-16T18:23:33+08:00" title="2016年6月16日 下午6:23:33">6月16日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div><ul class="ds-children"><li class="ds-post" data-post-id="6296759634430526210"><div class="ds-post-self" data-post-id="6296759634430526210" data-thread-id="6261340968868381441" data-root-id="6295599687932052226" data-source="duoshuo"><div class="ds-avatar"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt="elegant"></div><div class="ds-comment-body"><div class="ds-comment-header"><span class="ds-user-name" data-qqt-account="">elegant</span></div><p>因为主线程运行完成了。加个锁试试。<br>
<br>
public static void main(String[] args) {<br>
        CountDownLatch lock = new CountDownLatch(1);<br>
        Observable.just(1, 2, 3, 4)<br>
                .subscribeOn(Schedulers.io()) // 指定 subscribe() 发生在 IO 线程<br>
                .observeOn(Schedulers.newThread()) // 指定 Subscriber 的回调发生在主线程<br>
                .subscribe(new Action1&lt;Integer&gt;() {<br>
                               @Override<br>
                               public void call(Integer number) {<br>
                                   System.out.println("Thread:" + Thread.currentThread().getName() + ",number:" + number);<br>
                               }<br>
                           }, new Action1&lt;Throwable&gt;() {<br>
                               @Override<br>
                               public void call(Throwable throwable) {<br>
                                   lock.countDown();<br>
                               }<br>
                           }, new Action0() {<br>
                               @Override<br>
                               public void call() {<br>
                                   lock.countDown();<br>
                               }<br>
                           }<br>
                );<br>
        try {<br>
            lock.await();<br>
        } catch (InterruptedException e) {<br>
            e.printStackTrace();<br>
        }<br>
    }</p><div class="ds-comment-footer ds-comment-actions"><span class="ds-time" datetime="2016-06-16T20:03:18+08:00" title="2016年6月16日 下午8:03:18">6月16日</span><a class="ds-post-reply" href="javascript:void(0);"><span class="ds-icon ds-icon-reply"></span>回复</a><a class="ds-post-likes" href="javascript:void(0);"><span class="ds-icon ds-icon-like"></span>顶</a><a class="ds-post-repost" href="javascript:void(0);"><span class="ds-icon ds-icon-share"></span>转发</a><a class="ds-post-report" href="javascript:void(0);"><span class="ds-icon ds-icon-report"></span>举报</a></div></div></div></li></ul></li></ul></li></ul></li></ul><div class="ds-paginator" style="display: block;"><div class="ds-border"></div><a data-page="1" href="javascript:void(0);" class="ds-current">1</a> <a data-page="2" href="javascript:void(0);">2</a> <a data-page="3" href="javascript:void(0);">3</a></div><a name="respond"></a><div class="ds-login-buttons"><p>社交帐号登录:</p><div class="ds-social-links"><ul class="ds-service-list"><li><a href="http://gank.duoshuo.com/login/weixin/" rel="nofollow" class="ds-service-link ds-weixin">微信</a></li><li><a href="http://gank.duoshuo.com/login/weibo/" rel="nofollow" class="ds-service-link ds-weibo">微博</a></li><li><a href="http://gank.duoshuo.com/login/qq/" rel="nofollow" class="ds-service-link ds-qq">QQ</a></li><li><a href="http://gank.duoshuo.com/login/renren/" rel="nofollow" class="ds-service-link ds-renren">人人</a></li><li><a class="ds-more-services" href="javascript:void(0)">更多»</a></li></ul><ul class="ds-service-list ds-additional-services"><li><a href="http://gank.duoshuo.com/login/douban/" rel="nofollow" class="ds-service-link ds-douban">豆瓣</a></li><li><a href="http://gank.duoshuo.com/login/kaixin/" rel="nofollow" class="ds-service-link ds-kaixin">开心</a></li><li><a href="http://gank.duoshuo.com/login/baidu/" rel="nofollow" class="ds-service-link ds-baidu">百度</a></li><li><a href="http://gank.duoshuo.com/login/google/" rel="nofollow" class="ds-service-link ds-google">谷歌</a></li></ul></div></div><div class="ds-replybox"><a class="ds-avatar" href="javascript:void(0);" onclick="return false"><img src="./给 Android 开发者的 RxJava 详解_files/noavatar_default.png" alt=""></a><form method="post"><input type="hidden" name="thread_id" value="6261340968868381441">
<input type="hidden" name="parent_id" value="">
<input type="hidden" name="nonce" value="57f98d7f4bdcd"><div class="ds-textarea-wrapper ds-rounded-top"><textarea name="message" title="Ctrl+Enter快捷提交" placeholder="说点什么吧…"></textarea><pre class="ds-hidden-text"></pre></div><div class="ds-post-toolbar"><div class="ds-post-options ds-gradient-bg"><span class="ds-sync"></span></div><button class="ds-post-button" type="submit">发布</button><div class="ds-toolbar-buttons"><a class="ds-toolbar-button ds-add-emote" title="插入表情"></a></div></div></form></div><p class="ds-powered-by"><a href="http://duoshuo.com/" target="_blank" rel="nofollow">干货集中营正在使用多说</a></p></div></div>

<script>
    var duoshuoQuery = {short_name: "gank"};
    (function () {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';
        ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
        
    </div>
    <link rel="stylesheet" href="./给 Android 开发者的 RxJava 详解_files/obsidian.css">
    <script type="application/javascript" src="./给 Android 开发者的 RxJava 详解_files/jquery.min.js.下载"></script>
    <script type="application/javascript" src="./给 Android 开发者的 RxJava 详解_files/jquery.unveil.min.js.下载"></script>
    <script type="text/javascript" src="./给 Android 开发者的 RxJava 详解_files/pretty.js.下载"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('img').each(function () {
                $(this).attr('data-src', $(this).attr('src'));
                $(this).removeAttr('src')
            });
            $("img").unveil();
            $('pre code').addClass('prettyprint');
        });
    </script>

</div>
<script type="text/javascript">(function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
    a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-65153119-1', 'auto');
ga('send', 'pageview');</script>

</body></html>